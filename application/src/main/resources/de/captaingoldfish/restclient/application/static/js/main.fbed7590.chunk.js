(this["webpackJsonpreact-frontend"]=this["webpackJsonpreact-frontend"]||[]).push([[0],{107:function(e,t,s){"use strict";(function(e){s.d(t,"a",(function(){return E}));var r=s(10),n=s.n(r),a=s(17),i=s(13),c=s(14),o=s(7),l=s(16),u=s(15),d=s(1),h=s.n(d),j=(s(93),s(18)),p=s(34),b=s(12),f=s(6),m=s(22),O=s(4),v=s(165),x=s(23),y=s(19),w=s(87),g=s(166),C=s(164),S=s(20),k=s(30),R=s(0),E=function(t){Object(l.a)(r,t);var s=Object(u.a)(r);function r(e){var t;return Object(i.a)(this,r),(t=s.call(this,e)).state={isMounted:!1,selectedKey:"",currentJwt:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"},t.setState=t.setState.bind(Object(o.a)(t)),t.scimClient=new j.a(k.e,t.setState),t.formReference=Object(d.createRef)(),t.onUpdateSuccess=t.onUpdateSuccess.bind(Object(o.a)(t)),t.handleKeySelectionSelection=t.handleKeySelectionSelection.bind(Object(o.a)(t)),t.parseJwt=t.parseJwt.bind(Object(o.a)(t)),t.prettyPrintJwtJson=t.prettyPrintJwtJson.bind(Object(o.a)(t)),t.scimComponentBasics=new p.a({scimClient:t.scimClient,formReference:t.formReference,getOriginalResource:function(){return t.state.jwtBuilder||{id:1}},getCurrentResource:function(){return t.state.jwtBuilder||{id:1}},setCurrentResource:function(e){},setState:t.setState,onUpdateSuccess:t.onUpdateSuccess}),t}return Object(c.a)(r,[{key:"componentDidMount",value:function(){this.setState({isMounted:!0})}},{key:"handleKeySelectionSelection",value:function(){var e=Object(a.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({selectedKey:t});case 2:document.getElementById("jwt-parser-key-id").value=t;case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onUpdateSuccess",value:function(e){var t=e;t.header=JSON.stringify(JSON.parse(e.header),void 0,4),this.setState({jwtBuilder:t})}},{key:"getJwtParts",value:function(){return!1===this.state.isMounted?null:(document.getElementById("jwt-to-parse").value||"").split(".")}},{key:"parseJwt",value:function(t){if(!1===this.state.isMounted)return null;var s={};s.parts=t;var r=function(t){return decodeURIComponent(e.from(t,"base64").toString())};if(5===t.length){var n=r(t[0]);return s.header=this.prettyPrintJwtJson(n),s.infoMessages=["JWE must be parsed at backend"],s}if(3!==t.length)return s.warnMessages=["Not a valid JSON Web Token"],s;var a=t[0],i=t[1],c=r(a),o=r(i);return s.header=this.prettyPrintJwtJson(c),s.body=this.prettyPrintJwtJson(o),s}},{key:"prettyPrintJwtJson",value:function(e){try{var t=JSON.parse(e);return JSON.stringify(t,null,2)}catch(s){return e}}},{key:"render",value:function(){var e=this,t=this.getJwtParts(),s=this.parseJwt(t)||{},r=new O.a(t).map((function(e){return 3===e.length})).orElse(!1),n=new O.a(t).map((function(e){return 5===e.length})).orElse(!1),a=new O.a(this.state.jwtBuilder).map((function(e){return e.header})).orElse(s.header),i=new O.a(this.state.jwtBuilder).map((function(e){return e.body})).orElse(s.body),c=this.state.errors||{};return Object(R.jsxs)(h.a.Fragment,{children:[Object(R.jsx)(f.a,{variant:"danger",icon:Object(R.jsx)(S.a,{}),messages:c.errorMessages||new O.a(c.detail).map((function(e){return[e]})).orElse([])}),Object(R.jsxs)(b.a,{onSubmit:this.scimComponentBasics.onSubmit,ref:this.formReference,children:[Object(R.jsx)(f.a,{icon:Object(R.jsx)(S.a,{}),variant:"danger",messages:(this.state.errorMessages||[]).errors}),Object(R.jsx)(f.a,{icon:Object(R.jsx)(C.a,{}),variant:"warning",messages:s.warnMessages}),Object(R.jsx)(f.a,{variant:"info",messages:s.infoMessages}),Object(R.jsx)(v.a,{children:Object(R.jsxs)(x.a,{children:[Object(R.jsxs)(y.a,{sm:3,children:[Object(R.jsxs)(w.a,{children:[Object(R.jsx)(g.a,{id:"jwt-parser-aliases",title:"available keys",onSelect:this.handleKeySelectionSelection,children:new O.a(this.props.keyInfos).isPresent()&&this.props.keyInfos.map((function(e){return Object(R.jsx)(w.a.Item,{eventKey:e.alias,children:e.alias+" ("+e.keyAlgorithm+"-"+e.keyLength+"-bit)"},e.alias)}))}),Object(R.jsxs)("p",{children:["selected key:",Object(R.jsx)("span",{className:"code",style:{marginLeft:"15px",color:"lightgreen"},children:this.state.selectedKey})]})]}),(!0===n||!0===r)&&Object(R.jsxs)(m.a,{id:"parse-jwt",type:"submit",onClick:function(t){e.setState({jwtBuilder:void 0})},children:[Object(R.jsx)(f.q,{show:this.state.isLoading}),!0===r&&Object(R.jsx)("span",{children:"Verify Signature"}),!0===n&&Object(R.jsx)("span",{children:"Decrypt"})]}),this.state.jwtBuilder&&r&&Object(R.jsx)("h5",{style:{color:"lightgreen",marginTop:"50px"},children:"Signature valid"}),this.state.jwtBuilder&&n&&Object(R.jsx)("h5",{style:{color:"lightgreen",marginTop:"50px"},children:"Successfully decrypted"})]}),Object(R.jsxs)(y.a,{sm:4,className:"form-group",children:[Object(R.jsx)(b.a.Control,{id:"jwt-to-parse",name:"jwt",sm:12,as:"textarea",value:this.state.currentJwt,onChange:function(t){return e.setState({currentJwt:t.target.value,jwtBuilder:void 0})}}),Object(R.jsx)("div",{id:"jwt-input",className:"jwt-overlay",children:(s.parts||[]).map((function(e,t){return Object(R.jsxs)("span",{className:"jwt-part jwt-part-"+(t<=4?t:"over"),children:[t>0&&Object(R.jsxs)("span",{className:"jwt-dot-separator",children:[".",Object(R.jsx)("br",{})]}),e]},"jwt-part-"+t)}))})]}),Object(R.jsxs)(y.a,{sm:5,children:[Object(R.jsx)(f.l,{id:"jwt-parser-key-id",name:"keyId",readOnly:!0,type:"hidden",value:this.state.selectedKey,onError:function(t){return e.scimClient.getErrors(e.state,t)}}),Object(R.jsx)(f.l,{id:"jwt-parsed-header",name:"header",className:"jwt-part-0",type:"text",as:"textarea",value:a,onChange:function(){},onError:function(t){return e.scimClient.getErrors(e.state,t)}}),Object(R.jsx)(f.l,{id:"jwt-parsed-body",name:"body",className:"jwt-part-1",type:"text",as:"textarea",value:i,onChange:function(){},onError:function(t){return e.scimClient.getErrors(e.state,t)}})]})]})})]})]})}}]),r}(h.a.Component)}).call(this,s(103).Buffer)},116:function(e,t,s){},155:function(e,t,s){"use strict";s.r(t);var r=s(1),n=s.n(r),a=s(40),i=s.n(a),c=(s(116),s(117),s(118),function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,187)).then((function(t){var s=t.getCLS,r=t.getFID,n=t.getFCP,a=t.getLCP,i=t.getTTFB;s(e),r(e),n(e),a(e),i(e)}))}),o=s(10),l=s.n(o),u=s(17),d=s(13),h=s(14),j=s(7),p=s(16),b=s(15),f=s.p+"static/media/logo.6ce24c58.svg",m=s(185),O=s(165),v=s(108),x=s(65),y=s(27),w=s(38),g=s(186),C=s(180),S=s(24),k=s(12),R=s(23),E=s(19),I=s(22),P=s(6),T=s(4),D=s(18),M=s(99),A=s(176),N=s(174),L=s(175),U=s.p+"static/media/secure-download-icon.a0cef591.png",B=s(177),K=s(20),F=s(63),J=s(171),G=s(111),q=s(184),V=s(0),z=function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(){return Object(d.a)(this,s),t.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){return!0===this.props.show&&Object(V.jsx)("div",{id:this.props.id,role:"dialog","aria-modal":"true",tabIndex:"-1",className:"card-modal",children:Object(V.jsxs)("div",{className:"card-modal-content",children:[Object(V.jsx)("h5",{id:this.props.id+"-header",className:"card-title",children:this.props.title}),Object(V.jsx)("p",{id:this.props.id+"-text",children:this.props.message}),Object(V.jsx)(I.a,{id:this.props.id+"-button-accept",role:"accept",className:"left",variant:void 0===this.props.variant?"info":this.props.variant,type:"button",onClick:this.props.onSubmit,children:this.props.submitButtonText}),Object(V.jsx)(I.a,{id:this.props.id+"-button-cancel",role:"cancel",className:"right",variant:"secondary",type:"button",onClick:this.props.onCancel,children:this.props.cancelButtonText})]})})}}]),s}(n.a.Component),H=s(172),W=s(173),_=s(160),Q=s.p+"static/media/certificate.3484f279.png",X=s(30),Y=function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(e){var r;return Object(d.a)(this,s),(r=t.call(this,e)).state={loaded:!1},r.setState=r.setState.bind(Object(j.a)(r)),r.scimClient=new D.a(r.props.scimResourcePath,r.setState),r.deleteEntry=r.deleteEntry.bind(Object(j.a)(r)),r.showModal=r.showModal.bind(Object(j.a)(r)),r.hideModal=r.hideModal.bind(Object(j.a)(r)),r.loadData=r.loadData.bind(Object(j.a)(r)),r}return Object(h.a)(s,[{key:"deleteEntry",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.scimClient.deleteResource(this.props.alias);case 2:e.sent.success&&void 0!==this.props.onDeleteSuccess&&this.props.onDeleteSuccess(this.props.alias);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadData",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({showSpinner:!0}),e.next=3,this.scimClient.getResource(this.props.alias);case 3:(t=e.sent).success&&t.resource.then((function(e){var t=e[X.c];s.setState({loaded:!0,cert:t,certInfo:t.info})}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showModal",value:function(){this.setState({showModal:!0})}},{key:"hideModal",value:function(){this.setState({showModal:!1})}},{key:"render",value:function(){var e=function(e){return Object(V.jsx)(J.a,Object(F.a)(Object(F.a)({id:"button-tooltip"},e),{},{children:"Certificate"}))},t=function(e){return Object(V.jsx)(J.a,Object(F.a)(Object(F.a)({id:"button-tooltip"},e),{},{children:"Private Key and Certificate"}))};return Object(V.jsxs)(G.a,{id:"alias-card-"+this.props.alias,border:"warning",bg:"dark",className:"alias-card",children:[Object(V.jsx)(z,{id:"delete-dialog-"+this.props.alias,show:this.state.showModal,variant:"danger",title:"Delete '"+this.props.alias+"'",message:"Are you sure?",submitButtonText:"delete",onSubmit:this.deleteEntry,cancelButtonText:"cancel",onCancel:this.hideModal}),Object(V.jsxs)(G.a.Header,{id:"alias-name-"+this.props.alias,children:[this.props.alias," ",new T.a(this.props.keyInfo).map((function(s){return Object(V.jsxs)(n.a.Fragment,{children:[Object(V.jsx)("br",{}),"(",Object(V.jsxs)("span",{className:"keyInfo",children:[s.keyAlgorithm+": "+s.keyLength+"-bit ",s.hasPrivateKey&&Object(V.jsx)(q.a,{placement:"right",delay:{show:250,hide:400},overlay:t,children:Object(V.jsx)(H.a,{})}),!s.hasPrivateKey&&Object(V.jsx)(q.a,{placement:"right",delay:{show:250,hide:400},overlay:e,children:Object(V.jsx)(W.a,{})})]}),")"]})})).orElse(null),Object(V.jsxs)("div",{className:"card-control-icons",children:[Object(V.jsx)(P.q,{show:this.state.isLoading}),Object(V.jsx)(_.a,{id:"delete-icon-"+this.props.alias,onClick:this.showModal})]})]}),Object(V.jsxs)(G.a.Body,{children:[!1===this.state.loaded&&Object(V.jsx)(n.a.Fragment,{children:Object(V.jsxs)("div",{className:"load-certificate-icon-container",children:[Object(V.jsx)(N.a,{src:Q,className:"load-certificate-icon",fluid:!0})," ",Object(V.jsx)("br",{}),Object(V.jsx)(I.a,{id:"load-certificate-data-button-for-"+this.props.alias,className:"card-load-icon",type:"button",onClick:this.loadData,children:"Load Data"})]})}),!0===this.state.loaded&&Object(V.jsxs)(n.a.Fragment,{children:[Object(V.jsx)(G.a.Subtitle,{children:"Issuer"}),Object(V.jsx)(G.a.Text,{id:"issuer-dn-"+this.props.alias,children:this.state.certInfo.issuerDn}),Object(V.jsx)(G.a.Subtitle,{children:"Subject"}),Object(V.jsx)(G.a.Text,{id:"subject-dn-"+this.props.alias,children:this.state.certInfo.subjectDn}),Object(V.jsx)(G.a.Subtitle,{children:"SHA-256 Fingerprint"}),Object(V.jsx)(G.a.Text,{id:"sha-256-"+this.props.alias,children:this.state.certInfo.sha256Fingerprint}),Object(V.jsx)(G.a.Subtitle,{children:"Valid From"}),Object(V.jsx)(G.a.Text,{id:"valid-from-"+this.props.alias,children:new Date(this.state.certInfo.validFrom).toUTCString()}),Object(V.jsx)(G.a.Subtitle,{children:"Valid Until"}),Object(V.jsx)(G.a.Text,{id:"valid-until-"+this.props.alias,children:new Date(this.state.certInfo.validTo).toUTCString()})]})]})]},this.props.alias)}}]),s}(n.a.Component);function Z(e){return Object(V.jsx)(n.a.Fragment,{children:Object(V.jsx)(L.a,{id:"keystore-certificate-entries",children:void 0!==e.certificateAliases&&e.certificateAliases.map((function(t){return Object(V.jsx)(Y,{scimResourcePath:e.scimResourcePath,alias:t,onDeleteSuccess:e.onDeleteSuccess},t)}))})})}var $=function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(e){var r;return Object(d.a)(this,s),(r=t.call(this,e)).scimResourcePath="/scim/v2/Keystore",r.state={},r.setAliasSelectionResponse=r.setAliasSelectionResponse.bind(Object(j.a)(r)),r.onAliasSelectionSuccess=r.onAliasSelectionSuccess.bind(Object(j.a)(r)),r}return Object(h.a)(s,[{key:"setAliasSelectionResponse",value:function(e){var t=JSON.parse(JSON.stringify(e));this.setState({aliasSelectionResponse:t})}},{key:"onAliasSelectionSuccess",value:function(e){this.setState({newKeyInfo:{value:e.keyInfos[0]}})}},{key:"render",value:function(){return Object(V.jsxs)(n.a.Fragment,{children:[Object(V.jsx)(ee,{scimResourcePath:this.scimResourcePath,setAliasSelectionResponse:this.setAliasSelectionResponse}),Object(V.jsx)(te,{scimResourcePath:this.scimResourcePath,aliasSelectionResponse:this.state.aliasSelectionResponse,onCreateSuccess:this.onAliasSelectionSuccess}),Object(V.jsx)(se,{scimResourcePath:this.scimResourcePath,newKeyInfo:this.state.newKeyInfo})]})}}]),s}(n.a.Component),ee=function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).state={success:!1,showSpinner:!1},n.setState=n.setState.bind(Object(j.a)(n)),n.scimClient=new D.a(n.props.scimResourcePath,n.setState),n.formReference=Object(r.createRef)(),n.upload=n.upload.bind(Object(j.a)(n)),n.handleCreateResponse=n.handleCreateResponse.bind(Object(j.a)(n)),n}return Object(h.a)(s,[{key:"upload",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var s,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,this.scimClient.getResourceFromFormReference(this.formReference);case 3:return s=e.sent,e.next=6,this.scimClient.createResource(s);case 6:r=e.sent,this.handleCreateResponse(r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleCreateResponse",value:function(e){var t=this;e.success?(e.resource.then((function(e){t.props.setAliasSelectionResponse(e)})),this.setState({success:!0})):this.setState({success:!1})}},{key:"render",value:function(){var e=this;return Object(V.jsxs)(n.a.Fragment,{children:[Object(V.jsx)("h2",{children:"Keystore Upload"}),Object(V.jsx)(M.a,{id:"uploadForm-alert-success",variant:"success",show:this.state.success,children:Object(V.jsxs)(k.a.Text,{children:[Object(V.jsx)(K.b,{})," Keystore was successfully uploaded"]})}),Object(V.jsx)(P.i,{errors:this.state.errors}),Object(V.jsxs)(k.a,{id:"uploadForm",onSubmit:this.upload,ref:this.formReference,children:[Object(V.jsx)(P.k,{name:"fileUpload.keystoreFile",label:"Keystore File",placeholder:"Select a keystore file",onError:function(t){return e.scimClient.getErrors(e.state,t)}}),Object(V.jsx)(P.l,{name:"fileUpload.keystorePassword",label:"Keystore Password",type:"password",placeholder:"Keystore Password",onError:function(t){return e.scimClient.getErrors(e.state,t)}}),Object(V.jsx)(k.a.Group,{as:R.a,children:Object(V.jsx)(E.a,{sm:{span:10,offset:2},children:Object(V.jsxs)(I.a,{id:"upload",type:"submit",children:[Object(V.jsx)(P.q,{show:this.state.isLoading})," Upload"]})})})]})]})}}]),s}(n.a.Component),te=function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).state={success:!1},n.setState=n.setState.bind(Object(j.a)(n)),n.scimClient=new D.a(e.scimResourcePath,n.setState),n.formReference=Object(r.createRef)(),n.save=n.save.bind(Object(j.a)(n)),n}return Object(h.a)(s,[{key:"save",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var s,r,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,this.scimClient.getResourceFromFormReference(this.formReference);case 3:return s=e.sent,e.next=6,this.scimClient.createResource(s);case 6:(r=e.sent).success?r.resource.then((function(e){n.props.onCreateSuccess(e),n.setState({newKeyInfo:e.keyInfos[0]})})):this.setState({newKeyInfo:void 0});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=new T.a(this.props.aliasSelectionResponse).map((function(e){return e.aliasSelection})).map((function(e){return e.stateId})).orElse(0),s=new T.a(this.props.aliasSelectionResponse).map((function(e){return e.aliasSelection})).map((function(e){return e.aliases})).orElse([]),r=new T.a(this.props.aliasSelectionResponse).map((function(e){return""})).orElse("disabled");return Object(V.jsxs)(n.a.Fragment,{children:[Object(V.jsx)("h2",{children:"Alias Selection"}),Object(V.jsx)(M.a,{id:"aliasSelectionForm-alert-success",variant:"success",show:new T.a(this.state.newKeyInfo).isPresent(),children:Object(V.jsxs)(k.a.Text,{children:[Object(V.jsx)(K.b,{})," Entry with alias '",new T.a(this.state.newKeyInfo).map((function(e){return e.alias})).orElse(""),"' was successfully added"]})}),Object(V.jsx)(P.i,{errors:this.state.errors}),Object(V.jsxs)(k.a,{id:"aliasSelectionForm",onSubmit:this.save,ref:this.formReference,className:r,children:[Object(V.jsx)(P.l,{name:"aliasSelection.stateId",type:"hidden",value:t,onError:function(t){return e.scimClient.getErrors(e.state,t)}}),Object(V.jsx)(P.o,{name:"aliasSelection.aliases",label:"Alias",options:s,onError:function(t){return e.scimClient.getErrors(e.state,t)}}),Object(V.jsx)(P.l,{name:"aliasSelection.aliasOverride",label:"Alias Override",type:"text",placeholder:"Store under another alias",onError:function(t){return e.scimClient.getErrors(e.state,t)}}),Object(V.jsx)(P.l,{name:"aliasSelection.privateKeyPassword",label:"Private Key Password",type:"password",placeholder:"Optional if password is identical to keystore password",onError:function(t){return e.scimClient.getErrors(e.state,t)}}),Object(V.jsx)(k.a.Group,{as:R.a,children:Object(V.jsx)(E.a,{sm:{span:10,offset:2},children:Object(V.jsxs)(I.a,{id:"save",type:"Save",children:[Object(V.jsx)(P.q,{show:this.state.isLoading})," Save"]})})})]})]})}}]),s}(n.a.Component),se=function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(e){var r;return Object(d.a)(this,s),(r=t.call(this,e)).state={keyInfos:[]},r.setState=r.setState.bind(Object(j.a)(r)),r.scimClient=new D.a(r.props.scimResourcePath,r.setState),r.onDeleteSuccess=r.onDeleteSuccess.bind(Object(j.a)(r)),r.downloadKeystore=r.downloadKeystore.bind(Object(j.a)(r)),r}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.scimClient.listResources();case 2:(t=e.sent).success&&t.resource.then((function(e){s.setState({keyInfos:new T.a(e.Resources[0]).map((function(e){return e.keyInfos})).orElse([])})}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t,s){e.newKeyInfo!==this.props.newKeyInfo&&new T.a(this.props.newKeyInfo).map((function(e){return e.value})).isPresent()&&this.setState({keyInfos:[].concat(Object(S.a)(this.state.keyInfos),[this.props.newKeyInfo.value]),aliasDeleted:void 0})}},{key:"onDeleteSuccess",value:function(e){var t=this.state.keyInfos,s=function(e,t,s){for(var r=0;r<e.length;r+=1)if(e[r][t]===s)return r;return-1}(t,"alias",e);s>-1&&t.splice(s,1),this.setState({aliasDeleted:e,keyInfos:t})}},{key:"downloadKeystore",value:function(e){var t=this;e.preventDefault(),this.setState({downloading:!0}),this.scimClient.getResource("1",X.f,{attributes:"applicationKeystore"}).then((function(e){t.setState({downloading:!1}),e.success&&e.resource.then((function(e){var t=e.applicationKeystore;Object(T.b)(t,"application-keystore-pw-123456.p12","p12")}))}))}},{key:"render",value:function(){var e=this;return Object(V.jsxs)(n.a.Fragment,{children:[Object(V.jsxs)("h2",{id:"application-certificate-info-header",children:[Object(V.jsx)("p",{children:"Application Keystore Infos"}),Object(V.jsx)(A.a,{className:"download-keystore-icon",children:Object(V.jsxs)("a",{id:"keystore-download-link",href:"/#",onClick:this.downloadKeystore,children:[Object(V.jsx)(P.q,{show:this.state.downloading||!1}),Object(V.jsx)(N.a,{src:U,fluid:!0}),Object(V.jsx)("p",{children:"Download"})]})})]}),Object(V.jsx)(M.a,{id:"card-list-infos-alert",variant:"info",children:Object(V.jsxs)(k.a.Text,{children:[Object(V.jsx)(B.a,{}),' Application Keystore contains "',new T.a(this.state.keyInfos).map((function(e){return e.length})).orElse(0),'" entries']})}),Object(V.jsx)(M.a,{id:"card-list-deletion-success",variant:"success",show:void 0!==this.state.aliasDeleted,children:Object(V.jsxs)(k.a.Text,{children:[Object(V.jsx)(K.b,{}),' Key entry for alias "',this.state.aliasDeleted,'" was successfully deleted']})}),Object(V.jsx)(L.a,{id:"keystore-certificate-entries",children:this.state.keyInfos.map((function(t){return Object(V.jsx)(Y,{scimResourcePath:e.props.scimResourcePath,alias:t.alias,keyInfo:t,onDeleteSuccess:e.onDeleteSuccess},t.alias)}))})]})}}]),s}(n.a.Component),re=function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(e){var r;return Object(d.a)(this,s),(r=t.call(this,e)).scimResourcePath="/scim/v2/Truststore",r.state={},r.onMergeSuccess=r.onMergeSuccess.bind(Object(j.a)(r)),r.onUploadSuccess=r.onUploadSuccess.bind(Object(j.a)(r)),r}return Object(h.a)(s,[{key:"onMergeSuccess",value:function(e){this.setState({newAliases:e})}},{key:"onUploadSuccess",value:function(e){this.setState({newAliases:[e]})}},{key:"render",value:function(){return Object(V.jsxs)(n.a.Fragment,{children:[Object(V.jsx)(ne,{scimResourcePath:this.scimResourcePath,onMergeSuccess:this.onMergeSuccess}),Object(V.jsx)(ae,{scimResourcePath:this.scimResourcePath,aliasSelectionResponse:this.state.aliasSelectionResponse,onUploadSuccess:this.onUploadSuccess}),Object(V.jsx)(ie,{scimResourcePath:this.scimResourcePath,newAliases:this.state.newAliases})]})}}]),s}(n.a.Component),ne=function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).state={success:!1,showSpinner:!1},n.setState=n.setState.bind(Object(j.a)(n)),n.scimClient=new D.a(n.props.scimResourcePath,n.setState),n.formReference=Object(r.createRef)(),n.upload=n.upload.bind(Object(j.a)(n)),n.handleCreateResponse=n.handleCreateResponse.bind(Object(j.a)(n)),n}return Object(h.a)(s,[{key:"upload",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var s,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.setState({addedAliases:[],duplicateAliases:[],duplicateCertificates:[]}),e.next=4,this.scimClient.getResourceFromFormReference(this.formReference);case 4:return s=e.sent,e.next=7,this.scimClient.createResource(s);case 7:r=e.sent,this.handleCreateResponse(r);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleCreateResponse",value:function(e){var t=this;e.success?(e.resource.then((function(e){var s,r,n,a=e.truststoreUploadResponse;new T.a(a).ifPresent((function(e){s=e.aliases,r=new T.a(e.duplicateAliases).do((function(e){return e.sort()})).orElse([]),n=new T.a(e.duplicateCertificateAliases).do((function(e){return e.sort()})).orElse([])})),t.setState({addedAliases:new T.a(s).orElse([]),duplicateAliases:new T.a(r).orElse([]),duplicateCertificates:new T.a(n).orElse([])}),t.props.onMergeSuccess(s)})),this.setState({success:!0})):this.setState({success:!1})}},{key:"render",value:function(){var e=this,t=new T.a(this.state.duplicateAliases).map((function(e){return e.length})).orElse(0),s=new T.a(this.state.duplicateCertificates).map((function(e){return e.length})).orElse(0);return Object(V.jsxs)(n.a.Fragment,{children:[Object(V.jsx)("h2",{children:"Truststore Upload"}),Object(V.jsx)(M.a,{id:"truststoreUploadForm-alert-success",variant:"success",show:this.state.success,children:Object(V.jsxs)(k.a.Text,{children:[Object(V.jsx)(K.b,{})," Truststore was successfully merged"]})}),Object(V.jsx)(M.a,{id:"upload-form-alert-duplicate-aliases",variant:"warning",show:t>0,children:Object(V.jsxs)(k.a.Text,{children:[Object(V.jsx)(K.a,{})," The following aliases could not be added because the alias is duplicated.",Object(V.jsx)("br",{}),"Number of not added aliases: ",t," ",Object(V.jsx)("br",{}),"[",this.state.duplicateAliases,"]"]})}),Object(V.jsx)(M.a,{id:"upoad-form-alert-duplicate-certificates",variant:"warning",show:s>0,children:Object(V.jsxs)(k.a.Text,{children:[Object(V.jsx)(K.a,{})," The following aliases could not be added because the certificate is already present: [",this.state.duplicateCertificates,"]"]})}),Object(V.jsx)(P.i,{errors:this.state.errors}),Object(V.jsxs)(k.a,{id:"truststoreUploadForm",onSubmit:this.upload,ref:this.formReference,children:[Object(V.jsx)(P.k,{name:"truststoreUpload.truststoreFile",label:"Truststore File",placeholder:"Select a truststore file",onError:function(t){return e.scimClient.getErrors(e.state,t)}}),Object(V.jsx)(P.l,{name:"truststoreUpload.truststorePassword",label:"Truststore Password",type:"password",placeholder:"Truststore Password",onError:function(t){return e.scimClient.getErrors(e.state,t)}}),Object(V.jsx)(k.a.Group,{as:R.a,children:Object(V.jsx)(E.a,{sm:{span:10,offset:2},children:Object(V.jsxs)(I.a,{id:"uploadTruststore",type:"submit",children:[Object(V.jsx)(P.q,{show:this.state.isLoading})," Upload"]})})})]})]})}}]),s}(n.a.Component),ae=function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).state={success:!1},n.setState=n.setState.bind(Object(j.a)(n)),n.scimClient=new D.a(e.scimResourcePath,n.setState),n.formReference=Object(r.createRef)(),n.upload=n.upload.bind(Object(j.a)(n)),n.handleCreateResponse=n.handleCreateResponse.bind(Object(j.a)(n)),n}return Object(h.a)(s,[{key:"upload",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var s,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.setState({addedAlias:void 0}),e.next=4,this.scimClient.getResourceFromFormReference(this.formReference);case 4:return s=e.sent,e.next=7,this.scimClient.createResource(s);case 7:r=e.sent,this.handleCreateResponse(r);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleCreateResponse",value:function(e){var t=this;e.success?(e.resource.then((function(e){var s,r=e.certificateUploadResponse;new T.a(r).ifPresent((function(e){s=e.alias})),t.setState({addedAlias:s}),t.props.onUploadSuccess(s)})),this.setState({success:!0})):this.setState({success:!1})}},{key:"render",value:function(){var e=this;return Object(V.jsxs)(n.a.Fragment,{children:[Object(V.jsx)("h2",{children:"Certificate Upload"}),Object(V.jsx)(M.a,{id:"certificateUploadForm-alert-success",variant:"success",show:new T.a(this.state.addedAlias).isPresent(),children:Object(V.jsxs)(k.a.Text,{children:[Object(V.jsx)(K.b,{})," Entry with alias '",this.state.addedAlias,"' was successfully added"]})}),Object(V.jsx)(P.i,{errors:this.state.errors}),Object(V.jsxs)(k.a,{id:"certificateUploadForm",onSubmit:this.upload,ref:this.formReference,children:[Object(V.jsx)(P.k,{name:"certificateUpload.certificateFile",label:"Certificate File",placeholder:"Select a certificate file",onError:function(t){return e.scimClient.getErrors(e.state,t)}}),Object(V.jsx)(P.l,{name:"certificateUpload.alias",label:"Alias",placeholder:"Certificate Alias",onError:function(t){return e.scimClient.getErrors(e.state,t)}}),Object(V.jsx)(k.a.Group,{as:R.a,children:Object(V.jsx)(E.a,{sm:{span:10,offset:2},children:Object(V.jsxs)(I.a,{id:"uploadCertificate",type:"Save",children:[Object(V.jsx)(P.q,{show:this.state.isLoading})," Save"]})})})]})]})}}]),s}(n.a.Component),ie=function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(e){var r;return Object(d.a)(this,s),(r=t.call(this,e)).state={aliases:[]},r.setState=r.setState.bind(Object(j.a)(r)),r.scimClient=new D.a(r.props.scimResourcePath,r.setState),r.onDeleteSuccess=r.onDeleteSuccess.bind(Object(j.a)(r)),r.downloadTruststore=r.downloadTruststore.bind(Object(j.a)(r)),r}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.scimClient.listResources();case 2:(t=e.sent).success&&t.resource.then((function(e){var t=new T.a(e.Resources[0]).map((function(e){return e.aliases})).orElse([]);t.sort(),s.setState({aliases:t})}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t,s){if(new T.a(this.props.newAliases).isPresent()&&e.newAliases!==this.props.newAliases){var r=this.state.aliases.concat(this.props.newAliases);r.sort(),this.setState({aliases:r,aliasDeleted:void 0})}}},{key:"onDeleteSuccess",value:function(e){var t=this.state.aliases,s=t.indexOf(e);s>-1&&t.splice(s,1),this.setState({aliasDeleted:e,aliases:t})}},{key:"downloadTruststore",value:function(e){var t=this;e.preventDefault(),this.setState({downloading:!0}),this.scimClient.getResource("1",X.g,{attributes:"applicationTruststore"}).then((function(e){t.setState({downloading:!1}),e.success&&e.resource.then((function(e){var t=e.applicationTruststore;Object(T.b)(t,"application-truststore-pw-123456.jks","jks")}))}))}},{key:"render",value:function(){return Object(V.jsxs)(n.a.Fragment,{children:[Object(V.jsxs)("h2",{id:"application-certificate-info-header",children:[Object(V.jsx)("p",{children:"Application Truststore Infos"}),Object(V.jsx)(A.a,{className:"download-keystore-icon",children:Object(V.jsxs)("a",{id:"truststore-download-link",href:"/#",onClick:this.downloadTruststore,children:[Object(V.jsx)(P.q,{show:this.state.downloading||!1}),Object(V.jsx)(N.a,{src:U,fluid:!0}),Object(V.jsx)("p",{children:"Download"})]})})]}),Object(V.jsx)(M.a,{id:"card-list-infos-alert",variant:"info",children:Object(V.jsxs)(k.a.Text,{children:[Object(V.jsx)(B.a,{}),' Application Truststore contains "',new T.a(this.state.aliases).map((function(e){return e.length})).orElse(0),'" entries']})}),Object(V.jsx)(M.a,{id:"card-list-deletion-success",variant:"success",show:void 0!==this.state.aliasDeleted,children:Object(V.jsxs)(k.a.Text,{children:[Object(V.jsx)(K.b,{}),' Key entry for alias "',this.state.aliasDeleted,'" was successfully deleted']})}),Object(V.jsx)(Z,{certificateAliases:this.state.aliases,scimResourcePath:this.props.scimResourcePath,onDeleteSuccess:this.onDeleteSuccess})]})}}]),s}(n.a.Component),ce=s(179),oe=s(178),le=s(21),ue=s(34),de=function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(e){var r;return Object(d.a)(this,s),(r=t.call(this,e)).state={proxyList:[],showSpinner:!1},r.scimResourcePath="/scim/v2/Proxy",r.setState=r.setState.bind(Object(j.a)(r)),r.scimClient=new D.a(r.scimResourcePath,r.setState),r.addNewProxy=r.addNewProxy.bind(Object(j.a)(r)),r.onUpdateSuccess=r.onUpdateSuccess.bind(Object(j.a)(r)),r.onCreateSuccess=r.onCreateSuccess.bind(Object(j.a)(r)),r.addProxy=r.addProxy.bind(Object(j.a)(r)),r.removeProxy=r.removeProxy.bind(Object(j.a)(r)),r}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,s,r=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new T.a(this.state.currentPage*window.MAX_RESULTS+1).filter((function(e){return!isNaN(e)})).orElse(1),s=window.MAX_RESULTS,e.next=4,this.scimClient.listResources({startIndex:t,count:s,sortBy:"id"}).then((function(e){e.resource.then((function(e){var t=new T.a(e.Resources).orElse([]),s=new T.a(r.state.proxyList).orElse([]),n=le.concat(s,t);r.setState({proxyList:n,errors:{},newProxy:void 0,deletedProxyId:void 0})}))}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addNewProxy",value:function(){var e=Object(S.a)(this.state.proxyList);0===e.filter((function(e){return void 0===e.id})).length?(e.unshift({}),this.setState({proxyList:e,newProxy:void 0,deletedProxyId:void 0})):this.setState({errors:{errorMessages:["There is already a new form available in the view."]},newProxy:void 0,deletedProxyId:void 0})}},{key:"onUpdateSuccess",value:function(e){var t=Object(S.a)(this.state.proxyList),s=le.find(t,(function(t){return t.id===e.id}));le.merge(s,e),this.setState({proxyList:t,newProxy:void 0,deletedProxyId:void 0})}},{key:"onCreateSuccess",value:function(e){var t=Object(S.a)(this.state.proxyList),s=le.find(t,(function(e){return void 0===e.id}));le.merge(s,e),this.setState({proxyList:t,newProxy:s,deletedProxyId:void 0})}},{key:"addProxy",value:function(e){var t=Object(S.a)(this.state.proxyList);t.unshift(e),this.setState({proxyList:t,newProxy:void 0,deletedProxyId:void 0})}},{key:"removeProxy",value:function(e){var t=Object(S.a)(this.state.proxyList).filter((function(t){return t.id!==e}));this.setState({proxyList:t,newProxy:void 0,deletedProxyId:e,errors:{}})}},{key:"render",value:function(){var e=this;return Object(V.jsxs)(n.a.Fragment,{children:[Object(V.jsx)("p",{className:"add-new-resource",onClick:this.addNewProxy,children:Object(V.jsxs)("span",{className:"add-new-resource",children:["Add new Proxy ",Object(V.jsx)("br",{}),Object(V.jsx)(oe.a,{})]})}),Object(V.jsx)("h2",{children:"Proxies"}),Object(V.jsx)(M.a,{id:"save-alert-success",variant:"success",show:new T.a(this.state.newProxy).isPresent(),children:Object(V.jsxs)(k.a.Text,{children:[Object(V.jsx)(K.b,{})," Proxy with id '",new T.a(this.state.newProxy).map((function(e){return e.id})).orElse(-1),"' was successfully created"]})}),Object(V.jsx)(M.a,{id:"card-list-deletion-success",variant:"success",show:new T.a(this.state.deletedProxyId).isPresent(),children:Object(V.jsxs)(k.a.Text,{children:[Object(V.jsx)(K.b,{}),' Proxy with ID "',this.state.deletedProxyId,'" was successfully deleted']})}),Object(V.jsx)(P.i,{errors:this.state.errors}),Object(V.jsx)(L.a,{children:this.state.proxyList.map((function(t){return Object(V.jsx)(he,{scimResourcePath:e.scimResourcePath,proxy:t,onCreateSuccess:e.onCreateSuccess,onUpdateSuccess:e.onUpdateSuccess,onDeleteSuccess:e.removeProxy},new T.a(t.id).orElse("new"))}))})]})}}]),s}(n.a.Component),he=function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).state={showModal:!1,editMode:new T.a(e.proxy).map((function(e){return e.id})).map((function(e){return!1})).orElse(!0),proxy:JSON.parse(JSON.stringify(e.proxy))},n.setState=n.setState.bind(Object(j.a)(n)),n.scimClient=new D.a(n.props.scimResourcePath,n.setState),n.formReference=Object(r.createRef)(),n.scimComponentBasics=new ue.a({scimClient:n.scimClient,formReference:n.formReference,getOriginalResource:function(){return n.props.proxy},getCurrentResource:function(){return n.state.proxy},setCurrentResource:function(e){return n.setState({proxy:e})},setState:n.setState,onCreateSuccess:n.props.onCreateSuccess,onUpdateSuccess:n.props.onUpdateSuccess,onDeleteSuccess:n.props.onDeleteSuccess}),n}return Object(h.a)(s,[{key:"render",value:function(){var e=this;return Object(V.jsx)(G.a,{id:"proxy-card-"+this.state.proxy.id,border:"warning",bg:"dark",className:"resource-card provider-card",children:Object(V.jsxs)(k.a,{onSubmit:this.scimComponentBasics.onSubmit,ref:this.formReference,children:[Object(V.jsx)(z,{id:"delete-dialog-"+this.state.proxy.id,show:this.state.showModal,variant:"danger",title:"Delete Proxy with ID '"+this.state.proxy.id+"'",message:"Are you sure?",submitButtonText:"delete",onSubmit:this.scimComponentBasics.deleteResource,cancelButtonText:"cancel",onCancel:function(){return e.scimComponentBasics.setStateValue("showModal",!1)}}),Object(V.jsx)(M.a,{id:"save-alert-success-"+this.state.proxy.id,variant:"success",show:new T.a(this.state.success).orElse(!1),children:Object(V.jsxs)(k.a.Text,{children:[Object(V.jsx)(K.b,{})," Proxy was successfully updated"]})}),Object(V.jsx)(P.i,{errors:this.state.errors}),Object(V.jsxs)(G.a.Header,{id:"proxy-card-header-"+this.state.proxy.id,children:[Object(V.jsx)("div",{className:"card-name-header",children:void 0!==this.state.proxy.id&&Object(V.jsxs)("h5",{children:["Proxy '",this.state.proxy.id,"'"]})}),Object(V.jsx)(P.b,{resource:this.state.proxy,spinner:Object(V.jsx)(P.q,{show:this.state.showSpinner}),editMode:this.state.editMode,createResource:this.scimComponentBasics.createResource,updateResource:this.scimComponentBasics.updateResource,resetEditMode:this.scimComponentBasics.resetEditMode,edit:function(){return e.scimComponentBasics.setStateValue("editMode",!0)},showModal:function(){return e.scimComponentBasics.setStateValue("showModal",!0)}}),Object(V.jsx)(I.a,{id:"upload",type:"submit",hidden:!0})]}),Object(V.jsx)(G.a.Body,{children:Object(V.jsx)(n.a.Fragment,{children:Object(V.jsx)(ce.a,{size:"sm",variant:"dark",borderless:!0,striped:!0,children:Object(V.jsxs)("tbody",{children:[Object(V.jsx)(P.r,{header:"Hostname",name:"hostname",resourceId:this.state.proxy.id,editMode:this.state.editMode,resourceValue:this.state.proxy.hostname,placeholder:"The URL to the OpenID Providers discovery endpoint",onChange:this.scimComponentBasics.updateInput,onError:function(t){return e.scimClient.getErrors(e.state,t)}}),Object(V.jsx)(P.r,{header:"Port",name:"port",type:"number",resourceId:this.state.proxy.id,editMode:this.state.editMode,resourceValue:this.state.proxy.port,placeholder:"The port number of the Proxy",onChange:this.scimComponentBasics.updateInput,onError:function(t){return e.scimClient.getErrors(e.state,t)}}),Object(V.jsx)(P.r,{header:"Username",name:"username",resourceId:this.state.proxy.id,editMode:this.state.editMode,resourceValue:this.state.proxy.username,placeholder:"The username to authenticate at the proxy",onChange:this.scimComponentBasics.updateInput,onError:function(t){return e.scimClient.getErrors(e.state,t)}}),Object(V.jsx)(P.r,{header:"Password",name:"password",resourceId:this.state.proxy.id,editMode:this.state.editMode,resourceValue:this.state.proxy.password,placeholder:"The password to authenticate at the Proxy",onChange:this.scimComponentBasics.updateInput,onError:function(t){return e.scimClient.getErrors(e.state,t)}}),Object(V.jsx)(P.c,{resource:this.state.proxy})]})})})})]})},this.state.proxy.id)}}]),s}(n.a.Component);function je(){return Object(V.jsxs)(g.a,{defaultActiveKey:"keystore",id:"uncontrolled-tab-example",children:[Object(V.jsx)(C.a,{eventKey:"keystore",title:"Application Keystore",children:Object(V.jsx)($,{})}),Object(V.jsx)(C.a,{eventKey:"truststore",title:"Application Truststore",children:Object(V.jsx)(re,{})}),Object(V.jsx)(C.a,{eventKey:"proxies",title:"Proxies",children:Object(V.jsx)(de,{})})]})}var pe=s(181),be=s(50),fe=function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(e){var r;return Object(d.a)(this,s),(r=t.call(this,e)).state={errors:{},providerList:[],currentPage:0},r.scimResourcePath="/scim/v2/OpenIdProvider",r.setState=r.setState.bind(Object(j.a)(r)),r.scimClient=new D.a(r.scimResourcePath,r.setState),r.addNewProvider=r.addNewProvider.bind(Object(j.a)(r)),r.onUpdateSuccess=r.onUpdateSuccess.bind(Object(j.a)(r)),r.onCreateSuccess=r.onCreateSuccess.bind(Object(j.a)(r)),r.removeProvider=r.removeProvider.bind(Object(j.a)(r)),r}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,s,r=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.currentPage*this.props.serviceProviderConfig.filter.maxResults+1,s=this.props.serviceProviderConfig.filter.maxResults,e.next=4,this.scimClient.listResources({startIndex:t,count:s,sortBy:"name"}).then((function(e){e.resource.then((function(e){var t=new T.a(e.Resources).orElse([]),s=new T.a(r.state.providerList).orElse([]),n=le.concat(s,t);r.setState({providerList:n,errors:{}})}))}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addNewProvider",value:function(){var e=Object(S.a)(this.state.providerList);0===e.filter((function(e){return void 0===e.id})).length?(e.unshift({}),this.setState({providerList:e,newProvider:void 0,deletedProviderName:void 0})):this.setState({errors:{errorMessages:["There is already a new form available in the view."]},newProvider:void 0,deletedProviderName:void 0})}},{key:"onUpdateSuccess",value:function(e){var t=Object(S.a)(this.state.providerList),s=le.find(t,(function(t){return t.id===e.id}));le.merge(s,e),this.setState({providerList:t,newProvider:void 0,deletedProviderName:void 0})}},{key:"onCreateSuccess",value:function(e){var t=Object(S.a)(this.state.providerList),s=le.find(t,(function(e){return void 0===e.id}));le.merge(s,e),this.setState({providerList:t,newProvider:s,deletedProviderName:void 0})}},{key:"removeProvider",value:function(e){var t=Object(S.a)(this.state.providerList),s=t.filter((function(t){return t.id===e}))[0];le.remove(t,(function(t){return t.id===e})),this.setState({providerList:t,newProvider:void 0,deletedProviderName:s.name,errors:{}})}},{key:"render",value:function(){var e=this;return Object(V.jsxs)(n.a.Fragment,{children:[Object(V.jsx)("p",{className:"add-new-resource",onClick:this.addNewProvider,children:Object(V.jsxs)("span",{className:"add-new-resource",children:["Add new Provider ",Object(V.jsx)("br",{}),Object(V.jsx)(oe.a,{})]})}),Object(V.jsx)("h2",{children:Object(V.jsx)("span",{children:"OpenID Provider List"})}),Object(V.jsx)(M.a,{id:"save-alert-success",variant:"success",show:new T.a(this.state.newProvider).isPresent(),children:Object(V.jsxs)(k.a.Text,{children:[Object(V.jsx)(K.b,{})," Provider with name '",new T.a(this.state.newProvider).map((function(e){return e.name})).orElse("-"),"' was successfully created"]})}),Object(V.jsx)(M.a,{id:"card-list-deletion-success",variant:"success",show:new T.a(this.state.deletedProviderName).isPresent(),children:Object(V.jsxs)(k.a.Text,{children:[Object(V.jsx)(K.b,{}),' OpenID Provider "',this.state.deletedProviderName,'" was successfully deleted']})}),Object(V.jsx)(P.i,{errors:this.state.errors}),Object(V.jsx)(L.a,{children:this.state.providerList.map((function(t){return Object(V.jsx)(me,{scimResourcePath:e.scimResourcePath,provider:t,onCreateSuccess:e.onCreateSuccess,onUpdateSuccess:e.onUpdateSuccess,onDeleteSuccess:e.removeProvider},new T.a(t.id).orElse("new"))}))})]})}}]),s}(n.a.Component),me=function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).state={showModal:!1,editMode:new T.a(e.provider).map((function(e){return e.id})).map((function(e){return!1})).orElse(!0),provider:JSON.parse(JSON.stringify(e.provider))},n.setState=n.setState.bind(Object(j.a)(n)),n.scimClient=new D.a(n.props.scimResourcePath,n.setState),n.formReference=Object(r.createRef)(),n.scimComponentBasics=new ue.a({scimClient:n.scimClient,formReference:n.formReference,getOriginalResource:function(){return n.props.provider},getCurrentResource:function(){return n.state.provider},setCurrentResource:function(e){return n.setState({provider:e})},setState:n.setState,onCreateSuccess:n.props.onCreateSuccess,onUpdateSuccess:n.props.onUpdateSuccess,onDeleteSuccess:n.props.onDeleteSuccess}),n}return Object(h.a)(s,[{key:"render",value:function(){var e=this;return Object(V.jsxs)(G.a,{id:"provider-card-"+this.state.provider.id,border:"warning",bg:"dark",className:"resource-card provider-card",children:[Object(V.jsx)(v.a,{className:"flex-column"}),Object(V.jsxs)(k.a,{onSubmit:this.scimComponentBasics.onSubmit,ref:this.formReference,children:[Object(V.jsx)(z,{id:"delete-dialog-"+this.state.provider.id,show:this.state.showModal,variant:"danger",title:"Delete OpenID Provider with name '"+this.state.provider.name+"'",message:"Are you sure?",submitButtonText:"delete",onSubmit:this.scimComponentBasics.deleteResource,cancelButtonText:"cancel",onCancel:function(){return e.scimComponentBasics.setStateValue("showModal",!1)}}),Object(V.jsx)(M.a,{id:"save-alert-success",variant:"success",show:new T.a(this.state.success).orElse(!1),children:Object(V.jsxs)(k.a.Text,{children:[Object(V.jsx)(K.b,{})," OpenID Provider was successfully updated"]})}),Object(V.jsx)(P.i,{errors:this.state.errors}),Object(V.jsxs)(G.a.Header,{id:"provider-card-header-"+this.state.provider.id,children:[Object(V.jsxs)("div",{className:"card-name-header",children:[!1===this.state.editMode&&Object(V.jsx)(n.a.Fragment,{children:Object(V.jsx)(w.LinkContainer,{exact:!0,to:"/openIdProvider/"+this.props.provider.id+"/openIdClients",children:Object(V.jsx)("a",{href:"/#",children:Object(V.jsxs)("h5",{children:[Object(V.jsx)(pe.a,{style:{color:"bisque",marginRight:"15px"},size:"20px",height:"30px"}),this.state.provider.name]})})})}),!0===this.state.editMode&&Object(V.jsx)(be.a,{value:new T.a(this.state.provider.name).orElse(""),type:"text",id:"name-"+this.state.provider.id,name:"name",placeholder:"OpenID Provider identifier",onChange:this.scimComponentBasics.updateInput,onError:function(t){return e.scimClient.getErrors(e.state,t)}})]}),Object(V.jsx)(P.b,{resource:this.state.provider,spinner:Object(V.jsx)(P.q,{show:this.state.showSpinner}),editMode:this.state.editMode,createResource:this.scimComponentBasics.createResource,updateResource:this.scimComponentBasics.updateResource,resetEditMode:this.scimComponentBasics.resetEditMode,edit:function(){return e.scimComponentBasics.setStateValue("editMode",!0)},showModal:function(){return e.scimComponentBasics.setStateValue("showModal",!0)}}),Object(V.jsx)(I.a,{id:"upload",type:"submit",hidden:!0})]}),Object(V.jsx)(G.a.Body,{children:Object(V.jsx)(n.a.Fragment,{children:Object(V.jsx)(ce.a,{size:"sm",variant:"dark",borderless:!0,striped:!0,children:Object(V.jsxs)("tbody",{children:[Object(V.jsx)(P.r,{header:"Discovery Endpoint",name:"discoveryEndpoint",resourceId:this.state.provider.id,editMode:this.state.editMode,resourceValue:this.state.provider.discoveryEndpoint,placeholder:"The URL to the OpenID Providers discovery endpoint",onChange:this.scimComponentBasics.updateInput,onError:function(t){return e.scimClient.getErrors(e.state,t)}}),Object(V.jsx)(P.r,{header:"Authorization Endpoint",name:"authorizationEndpoint",resourceId:this.state.provider.id,editMode:this.state.editMode,resourceValue:this.state.provider.authorizationEndpoint,placeholder:"The URL to the OpenID Providers authorization endpoint",onChange:this.scimComponentBasics.updateInput,onError:function(t){return e.scimClient.getErrors(e.state,t)}}),Object(V.jsx)(P.r,{header:"Token Endpoint",name:"tokenEndpoint",resourceId:this.state.provider.id,editMode:this.state.editMode,resourceValue:this.state.provider.tokenEndpoint,placeholder:"The URL to the OpenID Providers token endpoint",onChange:this.scimComponentBasics.updateInput,onError:function(t){return e.scimClient.getErrors(e.state,t)}}),Object(V.jsx)(P.t,{header:"Resource Endpoints",name:"resourceEndpoints",resourceId:this.state.provider.id,editMode:this.state.editMode,resourceValue:this.state.provider.resourceEndpoints,placeholder:"An optional resource endpoint that is provided",onAdd:function(){var t=new T.a(e.state.provider.resourceEndpoints).map((function(e){return Object(S.a)(e)})).orElse([]);t.push("");var s=e.state.provider;s.resourceEndpoints=t,e.setState({provider:s})},onRemove:function(t){var s=Object(S.a)(e.state.provider.resourceEndpoints);s.splice(t,1);var r=e.state.provider;r.resourceEndpoints=s,e.setState({provider:r})},onChange:this.scimComponentBasics.updateInput,onError:function(t){return e.scimClient.getErrors(e.state,t)}}),Object(V.jsx)(P.s,{header:"Signature Verification Key",name:"signatureVerificationKey",resourceId:this.state.provider.id,editMode:this.state.editMode,resourceValue:this.state.provider.signatureVerificationKey,placeholder:"Public key to verify JWT signatures",onChange:this.scimComponentBasics.updateInput,onError:function(t){return e.scimClient.getErrors(e.state,t)},onRemove:this.scimComponentBasics.updateInput}),Object(V.jsx)(P.c,{resource:this.state.provider})]})})})})]})]},this.state.provider.id)}}]),s}(n.a.Component),Oe=(s(93),s(107)),ve=s(87),xe=s(166),ye=function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).state={jwtBuilder:{},header:{},body:{},addX5Sha256tHeader:!1},n.setState=n.setState.bind(Object(j.a)(n)),n.scimClient=new D.a("/scim/v2/JwtBuilder",n.setState),n.formReference=Object(r.createRef)(),n.onCreateSuccess=n.onCreateSuccess.bind(Object(j.a)(n)),n.handleKeySelectionSelection=n.handleKeySelectionSelection.bind(Object(j.a)(n)),n.handleSignatureAlgorithmSelection=n.handleSignatureAlgorithmSelection.bind(Object(j.a)(n)),n.handleEncryptionAlgorithmSelection=n.handleEncryptionAlgorithmSelection.bind(Object(j.a)(n)),n.handleContentEncryptionAlgorithmSelection=n.handleContentEncryptionAlgorithmSelection.bind(Object(j.a)(n)),n.handleHeaderChange=n.handleHeaderChange.bind(Object(j.a)(n)),n.handleBodyChange=n.handleBodyChange.bind(Object(j.a)(n)),n.addJwtBody=n.addJwtBody.bind(Object(j.a)(n)),n.addDefaultJwtAttributes=n.addDefaultJwtAttributes.bind(Object(j.a)(n)),n.addKeyIdToHeader=n.addKeyIdToHeader.bind(Object(j.a)(n)),n.handleAddSha256Thumbprint=n.handleAddSha256Thumbprint.bind(Object(j.a)(n)),n.scimComponentBasics=new ue.a({scimClient:n.scimClient,formReference:n.formReference,getOriginalResource:function(){return n.props.jwtBuilder},getCurrentResource:function(){return n.state.jwtBuilder},setCurrentResource:function(e){},setState:n.setState,onCreateSuccess:n.onCreateSuccess}),n}return Object(h.a)(s,[{key:"componentDidMount",value:function(){this.addHeader(),this.addDefaultJwtAttributes()}},{key:"componentDidUpdate",value:function(e,t,s){e.jwtInfo!==this.props.jwtInfo&&void 0!==this.props.jwtInfo&&(this.handleSignatureAlgorithmSelection(this.props.jwtInfo.signatureAlgorithms[0]),this.addHeader())}},{key:"onCreateSuccess",value:function(e){document.getElementById("jwt").value=e.jwt,this.setState({header:JSON.parse(e.header)}),this.addHeader()}},{key:"handleKeySelectionSelection",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({selectedKey:t});case 2:document.getElementById("keyId").value=t;case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addKeyIdToHeader",value:function(){var e=this.state.header;e.kid=this.state.selectedKey,this.setState({header:e}),this.addHeader()}},{key:"handleSignatureAlgorithmSelection",value:function(e){var t=this.state.header;t.alg=e,t.enc=void 0,this.setState({header:t}),this.addHeader()}},{key:"handleEncryptionAlgorithmSelection",value:function(e){var t=this.state.header;t.alg=e,t.enc=new T.a(this.state.header.enc).orElse(new T.a(this.state.jwtInfo).map((function(e){return e.encryptionAlgorithms[0]})).orElse("")),this.setState({header:t}),this.addHeader()}},{key:"handleContentEncryptionAlgorithmSelection",value:function(e){var t=this.state.header;t.enc=e,this.setState({header:t}),this.addHeader()}},{key:"handleHeaderChange",value:function(e){try{var t=JSON.parse(e.target.value);this.setState({header:t})}catch(s){}}},{key:"handleBodyChange",value:function(e){try{var t=JSON.parse(e.target.value);this.setState({body:t})}catch(s){}}},{key:"addHeader",value:function(){document.getElementById("jwt-builder-header").value=JSON.stringify(this.state.header,void 0,4)}},{key:"addDefaultJwtAttributes",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={iss:new T.a(this.state.body.iss).orElse(""),aud:new T.a(this.state.body.aud).orElse(""),sub:new T.a(this.state.body.sub).orElse(""),iat:(new Date).getTime(),exp:(new Date).getTime()+86400,jti:new T.a(this.state.body.jti).orElse("")},s=le.merge(this.state.body,t),e.next=4,this.setState({body:s});case 4:this.addJwtBody();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addJwtBody",value:function(){document.getElementById("jwt-builder-body").value=JSON.stringify(this.state.body,void 0,4)}},{key:"handleAddSha256Thumbprint",value:function(e){var t=e.target.checked;this.setState({addX5Sha256tHeader:t})}},{key:"render",value:function(){var e=this,t=this.state.selectedKey===this.state.header.kid;return Object(V.jsxs)(O.a,{children:[Object(V.jsx)(R.a,{children:Object(V.jsx)(E.a,{sm:12,children:((this.state.errors||{}).errorMessages||[]).length>0&&Object(V.jsx)(M.a,{variant:"danger",children:Object(V.jsx)("ul",{className:"error-list",children:this.state.errors.errorMessages.map((function(e,t){return Object(V.jsx)(P.g,{message:e},"error-message-"+t)}))})})})}),Object(V.jsxs)(R.a,{children:[Object(V.jsxs)(E.a,{children:[Object(V.jsxs)(ve.a,{children:[Object(V.jsx)(xe.a,{id:"jwt-builder-aliases",title:"available keys",onSelect:this.handleKeySelectionSelection,children:new T.a(this.props.keyInfos).isPresent()&&this.props.keyInfos.map((function(e){return Object(V.jsx)(ve.a.Item,{eventKey:e.alias,children:e.alias+" ("+e.keyAlgorithm+"-"+e.keyLength+"-bit)"},e.alias)}))}),Object(V.jsxs)("p",{children:["selected key:",Object(V.jsx)(q.a,{placement:"top",overlay:Object(V.jsx)(J.a,{children:"Add as 'kid' to JOSE-header"}),children:Object(V.jsx)("span",{className:"code",style:{marginLeft:"15px",color:t?"lightgreen":"lightcoral",cursor:"pointer"},onClick:this.addKeyIdToHeader,children:this.state.selectedKey})})]})]}),Object(V.jsx)(ve.a,{children:Object(V.jsx)(xe.a,{id:"signatureAlgorithms",title:"signature algorithms",onSelect:this.handleSignatureAlgorithmSelection,children:new T.a(this.props.jwtInfo).map((function(e){return e.signatureAlgorithms})).isPresent()&&this.props.jwtInfo.signatureAlgorithms.map((function(e){return Object(V.jsx)(ve.a.Item,{eventKey:e,children:e},e)}))})}),Object(V.jsx)(ve.a,{children:Object(V.jsx)(xe.a,{id:"keyWrapAlgorithms",title:"key wrap algorithms",onSelect:this.handleEncryptionAlgorithmSelection,children:new T.a(this.props.jwtInfo).map((function(e){return e.keyWrapAlgorithms})).isPresent()&&this.props.jwtInfo.keyWrapAlgorithms.map((function(e){return Object(V.jsx)(ve.a.Item,{eventKey:e,children:e},e)}))})}),Object(V.jsx)(ve.a,{children:Object(V.jsx)(xe.a,{id:"contentEncryptionAlgorithms",title:"content encryption algorithms",onSelect:this.handleContentEncryptionAlgorithmSelection,children:new T.a(this.props.jwtInfo).isPresent()&&this.props.jwtInfo.encryptionAlgorithms.map((function(e){return Object(V.jsx)(ve.a.Item,{eventKey:e,children:e},e)}))})}),Object(V.jsx)(I.a,{type:"button",className:"functional-button",onClick:this.addDefaultJwtAttributes,children:"extend by JWT attributes"}),Object(V.jsx)(k.a.Check,{onChange:this.handleAddSha256Thumbprint,className:"jwt sha-256-check",label:"Add SHA-256 thumbprint to header"})]}),Object(V.jsxs)(E.a,{sm:9,children:[Object(V.jsx)(O.a,{children:Object(V.jsxs)(R.a,{children:[Object(V.jsx)(E.a,{children:Object(V.jsxs)(k.a,{onSubmit:this.scimComponentBasics.onSubmit,ref:this.formReference,children:[Object(V.jsx)(P.l,{name:"keyId",type:"hidden",value:this.state.selectedKey||"",onError:function(t){return e.scimClient.getErrors(e.state,t)}}),Object(V.jsx)(P.j,{name:"addX5Sha256tHeader",type:"hidden",readOnly:!0,checked:this.state.addX5Sha256tHeader,onError:function(t){return e.scimClient.getErrors(e.state,t)}}),Object(V.jsx)(P.l,{id:"jwt-builder-header",name:"header",type:"text",as:"textarea",onChange:this.handleHeaderChange,onError:function(t){return e.scimClient.getErrors(e.state,t)}}),Object(V.jsx)(P.l,{id:"jwt-builder-body",name:"body",type:"text",as:"textarea",onChange:this.handleBodyChange,onError:function(t){return e.scimClient.getErrors(e.state,t)}})]})}),Object(V.jsx)(E.a,{sm:5,children:Object(V.jsx)(k.a.Control,{id:"jwt",sm:5,as:"textarea",onChange:this.handleBodyChange})})]})}),Object(V.jsxs)(I.a,{id:"create-jwt",type:"button",onClick:this.scimComponentBasics.onSubmit,children:[Object(V.jsx)(P.q,{show:this.state.isLoading})," Create"]})]})]})]})}}]),s}(n.a.Component),we=function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(e){var r;return Object(d.a)(this,s),(r=t.call(this,e)).state={},r.setState=r.setState.bind(Object(j.a)(r)),r.scimClient=new D.a("/scim/v2/JwtBuilder",r.setState),r}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.scimClient.getResource(null,"/scim/v2/Keystore").then((function(t){t.success&&t.resource.then((function(t){e.setState({keyInfos:t.Resources[0].keyInfos})}))}))}},{key:"render",value:function(){var e=this;return Object(V.jsx)(Qe.Consumer,{children:function(t){return t&&Object(V.jsxs)(g.a,{defaultActiveKey:"jwtparser",id:"uncontrolled-tab-example",children:[Object(V.jsx)(C.a,{eventKey:"jwtparser",title:"JWT Parser",children:Object(V.jsx)(Oe.a,{keyInfos:e.state.keyInfos,jwtInfo:t.jwtInfo})}),Object(V.jsx)(C.a,{eventKey:"jwtbuilder",title:"JWT Builder",children:Object(V.jsx)(ye,{keyInfos:e.state.keyInfos,jwtInfo:t.jwtInfo})})]})}})}}]),s}(n.a.Component),ge=s(182),Ce=function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(e){var r;return Object(d.a)(this,s),(r=t.call(this,e)).state={errors:{},clientList:[],aliases:[],currentPage:0,keyInfos:[],provider:{}},r.scimResourcePath="/scim/v2/OpenIdClient",r.setState=r.setState.bind(Object(j.a)(r)),r.scimClient=new D.a(r.scimResourcePath,r.setState),r.addNewClient=r.addNewClient.bind(Object(j.a)(r)),r.onUpdateSuccess=r.onUpdateSuccess.bind(Object(j.a)(r)),r.onCreateSuccess=r.onCreateSuccess.bind(Object(j.a)(r)),r.removeClient=r.removeClient.bind(Object(j.a)(r)),r}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,s,r,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.currentPage*this.props.serviceProviderConfig.filter.maxResults+1,s=this.props.serviceProviderConfig.filter.maxResults,r=this.props.match.params.id,"/scim/v2/OpenIdProvider",e.next=6,this.scimClient.getResource(r,"/scim/v2/OpenIdProvider").then((function(e){e.success?e.resource.then((function(e){n.setState({provider:e})})):e.resource.then((function(e){n.setState({errors:{errorMessages:[e.detail]}})}))}));case 6:return e.next=8,this.scimClient.listResources({startIndex:t,count:s,sortBy:"clientId"}).then((function(e){e.resource.then((function(e){var t=new T.a(e.Resources).orElse([]),s=new T.a(n.state.clientList).orElse([]),r=le.concat(s,t);n.setState({clientList:r,errors:{}})}))}));case 8:this.loadKeystoreInfos();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadKeystoreInfos",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"/scim/v2/Keystore",this.scimClient.getResource(void 0,"/scim/v2/Keystore").then((function(e){e.success?e.resource.then((function(e){t.setState({keyInfos:new T.a(e).map((function(e){return e.Resources})).map((function(e){return e[0]})).map((function(e){return e.keyInfos})).orElse([])})})):e.resource.then((function(e){t.setState({errors:{errorMessages:[e.detail]}})}))}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addNewClient",value:function(){var e=Object(S.a)(this.state.clientList);0===e.filter((function(e){return void 0===e.id})).length?(e.unshift({}),this.setState({clientList:e,newClient:void 0,deletedClientId:void 0})):this.setState({errors:{errorMessages:["There is already a new form available in the view."]},newClient:void 0,deletedClientId:void 0})}},{key:"onCreateSuccess",value:function(e){var t=Object(S.a)(this.state.clientList),s=le.find(t,(function(e){return void 0===e.id}));le.merge(s,e),this.setState({providerList:t,newProvider:s,deletedClientId:void 0})}},{key:"onUpdateSuccess",value:function(e){var t=Object(S.a)(this.state.clientList),s=le.find(t,(function(t){return t.id===e.id}));le.merge(s,e),this.setState({clientList:t,newProxy:void 0,deletedClientId:void 0})}},{key:"removeClient",value:function(e){var t=Object(S.a)(this.state.clientList),s=t.filter((function(t){return t.id===e}))[0];le.remove(t,(function(t){return t.id===e})),this.setState({clientList:t,newClient:void 0,deletedClientId:s.clientId,errors:{}})}},{key:"render",value:function(){var e=this;return Object(V.jsxs)(n.a.Fragment,{children:[Object(V.jsx)(w.LinkContainer,{exact:!0,to:"/openIdProvider/",children:Object(V.jsx)("a",{href:"/#",children:Object(V.jsxs)("h5",{style:{height:"35px",padding:"0",paddingLeft:"10px"},children:[Object(V.jsx)(ge.a,{style:{color:"bisque"},height:"35px",size:"25px"}),Object(V.jsx)("span",{style:{marginLeft:"15px"},children:"Back to Provider Overview"})]})})}),Object(V.jsxs)("h5",{children:["Provider: ",Object(V.jsx)("span",{style:{color:"lightgray"},children:this.state.provider.name})]}),Object(V.jsx)("p",{className:"add-new-resource",onClick:this.addNewClient,children:Object(V.jsxs)("span",{className:"add-new-resource",children:["Add new Client ",Object(V.jsx)("br",{}),Object(V.jsx)(oe.a,{})]})}),Object(V.jsx)("h2",{children:Object(V.jsx)("span",{children:"OpenID Client List"})}),Object(V.jsx)(M.a,{id:"save-alert-success",variant:"success",show:new T.a(this.state.newClient).isPresent(),children:Object(V.jsxs)(k.a.Text,{children:[Object(V.jsx)(K.b,{})," Client with clientId '",new T.a(this.state.newClient).map((function(e){return e.clientId})).orElse("-"),"' was successfully created"]})}),Object(V.jsx)(M.a,{id:"card-list-deletion-success",variant:"success",show:new T.a(this.state.deletedClientId).isPresent(),children:Object(V.jsxs)(k.a.Text,{children:[Object(V.jsx)(K.b,{}),' OpenID Client "',this.state.deletedClientId,'" was successfully deleted']})}),Object(V.jsx)(P.i,{errors:this.state.errors}),Object(V.jsx)(L.a,{children:this.state.clientList.map((function(t){return Object(V.jsx)(Se,{provider:e.state.provider,scimResourcePath:e.scimResourcePath,client:t,keyInfos:e.state.keyInfos,onCreateSuccess:e.onCreateSuccess,onUpdateSuccess:e.onUpdateSuccess,onDeleteSuccess:e.removeClient},new T.a(t.id).orElse("new"))}))})]})}}]),s}(n.a.Component),Se=function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(e){var n;return Object(d.a)(this,s),(n=t.call(this,e)).state={showModal:!1,editMode:new T.a(e.client).map((function(e){return e.id})).map((function(e){return!1})).orElse(!0),authenticationType:e.client.authenticationType,client:JSON.parse(JSON.stringify(e.client))},n.setState=n.setState.bind(Object(j.a)(n)),n.resetEditMode=n.resetEditMode.bind(Object(j.a)(n)),n.scimClient=new D.a(n.props.scimResourcePath,n.setState),n.formReference=Object(r.createRef)(),n.scimComponentBasics=new ue.a({scimClient:n.scimClient,formReference:n.formReference,getOriginalResource:function(){return n.props.client},getCurrentResource:function(){return n.state.client},setCurrentResource:function(e){return n.setState({client:e})},setState:n.setState,onCreateSuccess:n.props.onCreateSuccess,onUpdateSuccess:n.props.onUpdateSuccess,onDeleteSuccess:n.props.onDeleteSuccess}),n}return Object(h.a)(s,[{key:"resetEditMode",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.scimComponentBasics.resetEditMode(),t=JSON.parse(JSON.stringify(this.props.client)),e.next=4,this.setState({client:t,authenticationType:t.authenticationType});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=[];return this.props.keyInfos.forEach((function(e){!0===e.hasPrivateKey&&t.push(e.alias)})),Object(V.jsx)(G.a,{id:"client-card-"+this.state.client.id,border:"warning",bg:"dark",className:"resource-card client-card",children:Object(V.jsxs)(k.a,{onSubmit:this.scimComponentBasics.onSubmit,ref:this.formReference,children:[Object(V.jsx)(z,{id:"delete-dialog-"+this.state.client.id,show:this.state.showModal,variant:"danger",title:"Delete OpenID Client with clientId '"+this.state.client.clientId+"'",message:"Are you sure?",submitButtonText:"delete",onSubmit:this.scimComponentBasics.deleteResource,cancelButtonText:"cancel",onCancel:function(){return e.scimComponentBasics.setStateValue("showModal",!1)}}),Object(V.jsx)(M.a,{id:"save-alert-success",variant:"success",show:new T.a(this.state.success).orElse(!1),children:Object(V.jsxs)(k.a.Text,{children:[Object(V.jsx)(K.b,{})," OpenID Client was successfully updated"]})}),Object(V.jsx)(P.i,{errors:this.state.errors}),Object(V.jsxs)(G.a.Header,{id:"client-card-header-"+this.state.client.id,children:[Object(V.jsx)("div",{className:"card-name-header",children:Object(V.jsx)("div",{className:"card-name-header",children:void 0!==this.state.client.clientId&&Object(V.jsx)(w.LinkContainer,{exact:!0,to:"/openIdProvider/"+this.props.provider.id+"/client/"+this.state.client.id,children:Object(V.jsx)("a",{href:"/#",children:Object(V.jsxs)("h5",{children:[Object(V.jsx)(pe.a,{style:{color:"bisque",marginRight:"15px"},size:"20px",height:"30px"}),"Client '",this.state.client.clientId,"'"]})})})})}),Object(V.jsx)(P.b,{resource:this.state.client,spinner:Object(V.jsx)(P.q,{show:this.state.showSpinner}),editMode:this.state.editMode,createResource:this.scimComponentBasics.createResource,updateResource:this.scimComponentBasics.updateResource,resetEditMode:this.resetEditMode,edit:function(){return e.scimComponentBasics.setStateValue("editMode",!0)},showModal:function(){return e.scimComponentBasics.setStateValue("showModal",!0)}}),Object(V.jsx)(I.a,{id:"upload",type:"submit",hidden:!0})]}),Object(V.jsx)(G.a.Body,{children:Object(V.jsx)(n.a.Fragment,{children:Object(V.jsx)(ce.a,{size:"sm",variant:"dark",borderless:!0,striped:!0,children:Object(V.jsxs)("tbody",{children:[Object(V.jsx)(P.p,{name:"openIdProviderId",type:"number",value:this.props.provider.id,onError:function(t){return e.scimClient.getErrors(e.state,t)}}),Object(V.jsx)(P.r,{header:"Client ID",name:"clientId",resourceId:this.state.client.id,editMode:this.state.editMode,resourceValue:this.state.client.clientId,placeholder:"The identifier for this client at its OpenID Provider",onChange:this.scimComponentBasics.updateInput,onError:function(t){return e.scimClient.getErrors(e.state,t)}}),Object(V.jsx)(P.e,{header:"Authentication Type",name:"authenticationType",editMode:this.state.editMode,selections:["basic","jwt"],selected:new T.a(this.state.authenticationType).orElse("basic"),onChange:function(t){e.scimComponentBasics.updateInput(t.target.name,t.target.value),e.setState({authenticationType:t.target.value})},onError:function(t){return e.scimClient.getErrors(e.state,t)}}),"basic"===this.state.authenticationType&&Object(V.jsx)(P.r,{header:"Client Secret",name:"clientSecret",resourceId:this.state.client.id,editMode:this.state.editMode,resourceValue:this.state.client.clientSecret,placeholder:"The password to access the OpenID Providers token endpoint",onChange:this.scimComponentBasics.updateInput,onError:function(t){return e.scimClient.getErrors(e.state,t)}}),"jwt"===this.state.authenticationType&&Object(V.jsxs)(n.a.Fragment,{children:[Object(V.jsx)(P.d,{header:"Signature Key Reference",name:"signingKeyRef",editMode:this.state.editMode,selections:[""].concat(t),selected:this.state.client.signingKeyRef,onChange:function(t){return e.scimComponentBasics.updateInput(t.target.name,t.target.value)},onError:function(t){return e.scimClient.getErrors(e.state,t)}}),Object(V.jsx)(Qe.Consumer,{children:function(t){return Object(V.jsx)(P.d,{header:"JWT Signature Algorithm",name:"signatureAlgorithm",editMode:e.state.editMode,selections:[""].concat(Object(S.a)(t.jwtInfo.signatureAlgorithms)),selected:e.state.client.signatureAlgorithm,onChange:function(t){return e.scimComponentBasics.updateInput(t.target.name,t.target.value)},onError:function(t){return e.scimClient.getErrors(e.state,t)}})}}),Object(V.jsx)(P.r,{header:"Audience",name:"audience",resourceId:this.state.client.audience,editMode:this.state.editMode,resourceValue:this.state.client.audience,placeholder:"audience value that should match the providers issuer-value",onChange:this.scimComponentBasics.updateInput,onError:function(t){return e.scimClient.getErrors(e.state,t)}}),Object(V.jsx)(P.d,{header:"Decryption Key Reference",name:"decryptionKeyRef",editMode:this.state.editMode,selections:[""].concat(t),selected:this.state.client.decryptionKeyRef,onChange:function(t){return e.scimComponentBasics.updateInput(t.target.name,t.target.value)}})]}),Object(V.jsx)(P.c,{resource:this.state.client})]})})})})]})},this.state.client.id)}}]),s}(n.a.Component),ke=function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(e){var n;Object(d.a)(this,s);var a=(n=t.call(this,e)).props.client["urn:ietf:params:scim:schemas:captaingoldfish:2.0:HttpClientSettings"];n.state={success:!1,showSpinner:!1,settings:{},proxies:[],keyInfos:[],originalSetting:JSON.parse(JSON.stringify(a)),httpSettings:a,enableHostnameVerifier:a.useHostnameVerifier},n.setState=n.setState.bind(Object(j.a)(n));return n.scimClient=new D.a("/scim/v2/HttpClientSettings",n.setState),n.formReference=Object(r.createRef)(),n.scimComponentBasics=new ue.a({scimClient:n.scimClient,formReference:n.formReference,getOriginalResource:function(){return new T.a(n.state.originalSetting).orElse({})},getCurrentResource:function(){return n.state.httpSettings},setCurrentResource:function(e){return n.setState({client:e})},setState:n.setState,onCreateSuccess:function(e){return console.error("create must not be called!")},onUpdateSuccess:n.onUpdateSuccess}),n.onUpdateSuccess=n.onUpdateSuccess.bind(Object(j.a)(n)),n}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadProxies();case 2:return e.next=4,this.loadKeystoreInfos();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadProxies",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/scim/v2/Proxy",e.next=3,new D.a("/scim/v2/Proxy",this.setState).listResources().then((function(e){e.success?e.resource.then((function(e){t.setState({proxies:e.Resources})})):e.resource.then((function(e){t.setState({errors:{errorMessages:[e.detail]}})}))}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadKeystoreInfos",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"/scim/v2/Keystore",this.scimClient.getResource(void 0,"/scim/v2/Keystore").then((function(e){e.success?e.resource.then((function(e){t.setState({keyInfos:new T.a(e).map((function(e){return e.Resources})).map((function(e){return e[0]})).map((function(e){return e.keyInfos})).orElse([])})})):e.resource.then((function(e){t.setState({errors:{errorMessages:[e.detail]}})}))}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onUpdateSuccess",value:function(){}},{key:"render",value:function(){var e=this,t=[];this.state.proxies.forEach((function(e){t.push({id:e.id,value:e.hostname+":"+e.port})}));var s=[];return this.state.keyInfos.forEach((function(e){!0===e.hasPrivateKey&&s.push({id:e.alias,value:e.alias+" ("+e.keyAlgorithm+"-"+e.keyLength+")"})})),Object(V.jsxs)(n.a.Fragment,{children:[Object(V.jsxs)("h2",{children:["Http Client Settings for ",this.props.client.clientId]}),Object(V.jsx)(M.a,{id:"uploadForm-alert-success",variant:"success",show:this.state.success,children:Object(V.jsxs)(k.a.Text,{children:[Object(V.jsx)(K.b,{})," Http Client Settings were successfully saved"]})}),Object(V.jsx)(P.i,{errors:this.state.errors}),Object(V.jsxs)(k.a,{onSubmit:this.scimComponentBasics.onSubmit,ref:this.formReference,children:[Object(V.jsx)(P.l,{name:"id",isHidden:!0,type:"string",readOnly:!0,value:this.state.httpSettings.id,onError:function(t){return e.scimClient.getErrors(e.state,t)}}),Object(V.jsx)(P.l,{name:"openIdClientReference",isHidden:!0,type:"number",readOnly:!0,value:new T.a(this.props.client.id).orElse(""),onError:function(t){return e.scimClient.getErrors(e.state,t)}}),Object(V.jsx)(P.l,{name:"requestTimeout",type:"number",label:"Request Timeout",value:this.state.httpSettings.requestTimeout,onChange:function(t){return e.scimComponentBasics.updateInput(t.target.name,t.target.value)},onError:function(t){return e.scimClient.getErrors(e.state,t)}}),Object(V.jsx)(P.l,{name:"connectionTimeout",label:"Connection Timeout",type:"number",value:this.state.httpSettings.connectionTimeout,onChange:function(t){return e.scimComponentBasics.updateInput(t.target.name,t.target.value)},onError:function(t){return e.scimClient.getErrors(e.state,t)}}),Object(V.jsx)(P.l,{name:"socketTimeout",label:"Socket Timeout",type:"number",value:this.state.httpSettings.socketTimeout,onChange:function(t){return e.scimComponentBasics.updateInput(t.target.name,t.target.value)},onError:function(t){return e.scimClient.getErrors(e.state,t)}}),Object(V.jsx)(P.j,{id:"useHostnameVerifier",name:"useHostnameVerifier",label:"Enable Hostname Verifier",checked:this.state.enableHostnameVerifier,onChange:function(t){return e.setState({enableHostnameVerifier:t.target.checked})},onError:function(t){return e.scimClient.getErrors(e.state,t)}}),Object(V.jsx)(P.m,{name:"proxyReference",label:"Proxy",selections:[""].concat(t),selected:this.state.httpSettings.proxyReference,onChange:function(t){return e.scimComponentBasics.updateInput(t.target.name,t.target.value)},onError:function(t){return e.scimClient.getErrors(e.state,t)}}),Object(V.jsx)(P.m,{name:"tlsClientAuthAliasReference",label:"TLS Client Auth Key Reference",selections:[""].concat(s),selected:this.state.httpSettings.tlsClientAuthAliasReference,onChange:function(t){return e.scimComponentBasics.updateInput(t.target.name,t.target.value)},onError:function(t){return e.scimClient.getErrors(e.state,t)}}),Object(V.jsx)(k.a.Group,{as:R.a,children:Object(V.jsx)(E.a,{sm:{span:10,offset:2},children:Object(V.jsxs)(I.a,{id:"upload",type:"submit",children:[Object(V.jsx)(P.q,{show:this.state.isLoading})," Save"]})})})]})]})}}]),s}(n.a.Component),Re=s(183),Ee=s(55),Ie=s(156),Pe=s(162),Te=s(163),De=s(109),Me=s(98);function Ae(e){return Object(V.jsx)("div",{className:"grant-type-workflow",children:Object(V.jsx)(Ne,{header:e.header,headerClass:e.headerClass,content:function(){return Object(V.jsx)(Le,{accessTokenDetails:e.accessTokenDetails})},remove:e.onRemove})})}function Ne(e){var t=Object(r.useState)(!0),s=Object(Ee.a)(t,2),a=s[0],i=s[1],c=new T.a(e.headerClass).map((function(e){return" "+e})).orElse("");return Object(V.jsxs)(n.a.Fragment,{children:[Object(V.jsxs)(M.a,{className:"collapse-header"+c,onClick:function(){i(!a)},children:[!0===a&&Object(V.jsx)(Pe.a,{}),!1===a&&Object(V.jsx)(Te.a,{}),e.header,void 0!==e.remove&&Object(V.jsx)(De.a,{onClick:e.remove,className:"remove-collapse"})]}),Object(V.jsx)(Me.a,{in:a,children:Object(V.jsx)(G.a,{className:"workflow-card",children:Object(V.jsx)(G.a.Body,{children:e.content()})})})]})}function Le(e){return Object(V.jsxs)("div",{className:"workflow-details",children:[Object(V.jsx)(Ue,{accessTokenDetails:e.accessTokenDetails}),Object(V.jsx)(Be,{accessTokenDetails:e.accessTokenDetails})]})}function Ue(e){return Object(V.jsx)(P.f,{header:"Access Token Request Details-header",variant:"workflow-details",content:function(){return Object(V.jsxs)(n.a.Fragment,{children:[Object(V.jsx)(P.f,{header:"Request Header",variant:"workflow-details",headerClass:"nested-workflow-details-header",bodyClass:"nested-workflow-details-body",content:function(){return Object(V.jsx)(Ke,{keyPrefix:"access-token-request-header-row-",nameValueList:(e.accessTokenDetails||{}).requestHeaders||[]})}}),Object(V.jsx)(P.f,{header:"Request Parameter",variant:"workflow-details",headerClass:"nested-workflow-details-header",bodyClass:"nested-workflow-details-body",content:function(){return Object(V.jsx)(Ke,{keyPrefix:"access-token-request-header-row-",nameValueList:(e.accessTokenDetails||{}).requestParams||[]})}})]})}})}function Be(e){var t=e.accessTokenDetails||{},s=t.statusCode,r=t.responseHeaders||[],a=t.plainResponse||"",i=(r.filter((function(e){return"content-type"===e.name.toLowerCase()}))[0]||[]).value;return Object(V.jsx)(P.f,{header:Object(V.jsxs)("span",{children:["Access Token Response Details",Object(V.jsxs)("span",{className:"bold",children:[" (Status: ",s,")"]})]}),open:!0,variant:"workflow-details",content:function(){return Object(V.jsxs)(n.a.Fragment,{children:[Object(V.jsx)(P.f,{header:"Response Header",variant:"workflow-details",headerClass:"nested-workflow-details-header",bodyClass:"nested-workflow-details-body",content:function(){return Object(V.jsx)(Ke,{keyPrefix:"access-token-request-header-row-",nameValueList:r})}}),Object(V.jsx)(P.f,{header:"Access Token Response",open:!0,variant:"workflow-details",headerClass:"nested-workflow-details-header",content:function(){return Object(V.jsx)(Fe,{contentType:i,tokenResponse:a})}})]})}})}function Ke(e){return Object(V.jsx)(n.a.Fragment,{children:e.nameValueList.map((function(t,s){return Object(V.jsxs)(R.a,{children:[Object(V.jsx)(E.a,{sm:2,children:t.name}),Object(V.jsx)(E.a,{sm:10,children:t.value})]},e.keyPrefix+s)}))})}var Fe=function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(e){var r;return Object(d.a)(this,s),(r=t.call(this,e)).state={errorMessages:[]},r}return Object(h.a)(s,[{key:"componentDidMount",value:function(){this.parseJsonContent()}},{key:"parseJsonContent",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(this.props.contentType||"").toLowerCase().includes("application/json");try{(s={}).json=JSON.parse(this.props.tokenResponse),t||(s.errorMessages=[].concat(Object(S.a)(this.state.errorMessages),["Found invalid content-type: "+this.props.contentType+". Response is valid JSON but content-type header does not match."])),this.setState(s)}catch(r){console.error(r),t&&this.setState({errorMessages:[].concat(Object(S.a)(this.state.errorMessages),["Expected content to be JSON but could not parse it",r.message])})}case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(V.jsxs)("div",{id:"access-token-response-container",children:[this.state.errorMessages.length>0&&Object(V.jsx)(M.a,{variant:"danger",children:Object(V.jsx)("ul",{className:"error-list",children:this.state.errorMessages.map((function(e,t){return Object(V.jsx)(P.g,{message:e},"error-message-"+t)}))})}),this.state.json&&Object.keys(this.state.json).map((function(t,s){return Object(V.jsxs)(R.a,{children:[Object(V.jsx)(E.a,{sm:2,children:t}),Object(V.jsxs)(E.a,{sm:10,children:[" ",e.state.json[t]," "]})]},"access-token-response-json-param-"+s)})),!this.state.json&&Object(V.jsxs)(R.a,{children:[Object(V.jsx)(E.a,{sm:2,children:"access_token"}),Object(V.jsxs)(E.a,{sm:10,children:[" ",this.props.tokenResponse," "]})]},"access-token-response-json-param-_")]})}}]),s}(n.a.Component),Je=function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(e){var r;return Object(d.a)(this,s),(r=t.call(this,e)).state={},r.setState=r.setState.bind(Object(j.a)(r)),r.forceUpdate=r.forceUpdate.bind(Object(j.a)(r)),r.loadAuthorizationQueryParameterView=r.loadAuthorizationQueryParameterView.bind(Object(j.a)(r)),r.getAuthRequestStatus=r.getAuthRequestStatus.bind(Object(j.a)(r)),r.loadAuthorizationCodeResponseDetailsView=r.loadAuthorizationCodeResponseDetailsView.bind(Object(j.a)(r)),r.retrieveAccessTokenDetails=r.retrieveAccessTokenDetails.bind(Object(j.a)(r)),r}return Object(h.a)(s,[{key:"componentWillUnmount",value:function(){this.state.interval&&clearInterval(this.state.interval)}},{key:"componentDidMount",value:function(){var e=this.getAuthRequestStatus;window.open(this.props.requestDetails.authorizationCodeGrantUrl,"_blank","location=yes,height=570,width=520,scrollbars=yes,status=yes"),this.state.interval=setInterval((function(){e()}),2e3)}},{key:"getAuthRequestStatus",value:function(){var e=new D.a(X.b,this.setState),t=Object.fromEntries(new URL(this.props.requestDetails.authorizationCodeGrantUrl).searchParams).state,s=this.state,r=this.setState;e.getResource(t).then((function(e){e.success&&e.resource.then((function(e){clearInterval(s.interval),delete s.interval,r({authorizationResponseUrl:e.authorizationResponseUrl})}))}))}},{key:"loadAuthorizationQueryParameterView",value:function(){var e=this,t=Object.fromEntries(new URL(this.props.requestDetails.authorizationCodeGrantUrl).searchParams),s=void 0===this.state.authorizationResponseUrl;return Object(V.jsxs)("div",{className:"workflow-details",children:[Object(V.jsxs)(M.a,{variant:"info",show:s,children:[Object(V.jsx)(Ie.a,{})," The authorization code grant will try to open a new browser window. Make sure your popup blocker does not block this. If you closed this window before finishing the login process. Close this workflow and start again."]}),Object(V.jsx)(P.f,{header:"Authorization Request Details",variant:"workflow-details",content:function(){return Object(V.jsxs)(n.a.Fragment,{children:[Object(V.jsxs)(R.a,{children:[Object(V.jsx)(E.a,{sm:2,className:"url-base-value",children:"authCodeUrl"}),Object(V.jsx)(E.a,{sm:10,className:"url-base-value",children:e.props.requestDetails.authorizationCodeGrantUrl})]}),Object.keys(t).map((function(e,s){return Object(V.jsxs)(R.a,{children:[Object(V.jsx)(E.a,{sm:2,children:e}),Object(V.jsx)(E.a,{sm:10,children:t[e]})]},"auth-code-request-row-"+s)}))]})}})]})}},{key:"retrieveAccessTokenDetails",value:function(e){var t=this;e.preventDefault();var s=new D.a(X.a,this.setState),r=new URL(this.state.authorizationResponseUrl),n=Object.fromEntries(r.searchParams),a=Object.fromEntries(new URL(this.props.requestDetails.authorizationCodeGrantUrl).searchParams),i={grantType:"authorization_code",openIdClientId:parseInt(this.props.client.id),redirectUri:a.redirect_uri,authorizationCode:n.code};s.createResource(i).then((function(e){e.success&&e.resource.then((function(e){t.setState({accessTokenDetails:e})}))}))}},{key:"loadAuthorizationCodeResponseDetailsView",value:function(){var e=this;if(!this.state.authorizationResponseUrl)return null;var t=new URL(this.state.authorizationResponseUrl),s=Object.fromEntries(t.searchParams),r=this.state.errors||{};return Object(V.jsx)("div",{className:"workflow-details",children:Object(V.jsxs)(n.a.Fragment,{children:[Object(V.jsx)(P.f,{header:"Authorization Response Details",open:!0,variant:"workflow-details",content:function(){return Object(V.jsxs)(n.a.Fragment,{children:[Object(V.jsxs)(R.a,{children:[Object(V.jsx)(E.a,{sm:2,className:"url-base-value",children:"authResponseUrl"}),Object(V.jsx)(E.a,{sm:10,className:"url-base-value",children:e.state.authorizationResponseUrl})]}),Object.keys(s).map((function(e,t){return Object(V.jsxs)(R.a,{children:[Object(V.jsx)(E.a,{sm:2,children:e}),Object(V.jsx)(E.a,{sm:10,children:s[e]})]},"auth-code-response-row-"+t)}))]})}}),Object(V.jsxs)(I.a,{type:"submit",onClick:function(t){e.setState({isLoading:!0}),e.retrieveAccessTokenDetails(t)},style:{marginTop:"15px",marginBottom:"15px"},children:[Object(V.jsx)(P.q,{show:this.state.isLoading})," Get Access Token"]}),this.state.accessTokenDetails&&Object(V.jsx)(Le,{accessTokenDetails:this.state.accessTokenDetails}),Object(V.jsx)(P.a,{variant:"danger",icon:Object(V.jsx)(K.a,{}),messages:r.errorMessages||new T.a(r.detail).map((function(e){return[e]})).orElse([])})]})})}},{key:"render",value:function(){var e=this;return Object(V.jsx)("div",{className:"grant-type-workflow",children:Object(V.jsx)(Ge,{isLoading:void 0===this.state.authorizationResponseUrl,content:function(){return Object(V.jsxs)(n.a.Fragment,{children:[e.loadAuthorizationQueryParameterView(),e.loadAuthorizationCodeResponseDetailsView()]})},remove:this.props.onRemove})})}}]),s}(n.a.Component);function Ge(e){var t=Object(r.useState)(!0),s=Object(Ee.a)(t,2),a=s[0],i=s[1];return Object(V.jsxs)(n.a.Fragment,{children:[Object(V.jsxs)(M.a,{className:"collapse-header authorization-code-grant",variant:"dark",onClick:function(){i(!a)},children:[!0===a&&Object(V.jsx)(Pe.a,{}),!1===a&&Object(V.jsx)(Te.a,{}),Object(V.jsxs)("span",{children:[Object(V.jsx)(P.q,{show:e.isLoading})," Authorization Code Grant/Flow"]}),void 0!==e.remove&&Object(V.jsx)(De.a,{onClick:e.remove,className:"remove-collapse"})]}),Object(V.jsx)(Me.a,{in:a,children:Object(V.jsx)(G.a,{className:"workflow-card",children:Object(V.jsx)(G.a.Body,{children:e.content()})})})]})}var qe=function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(e,n){var a;return Object(d.a)(this,s),(a=t.call(this,e,n)).authCodeGrantType="authorization_code",a.clientCredentialsGrantType="client_credentials",a.resourceOwnerGrantType="password",a.state={authenticationType:a.authCodeGrantType,originalRedirectUri:e.originalRedirectUri,workflowDetails:a.props.client[X.d]||{},isLoading:!1,responseDetails:[]},a.formReference=Object(r.createRef)(),a.resetRedirectUri=a.resetRedirectUri.bind(Object(j.a)(a)),a.handleNestedElementChange=a.handleNestedElementChange.bind(Object(j.a)(a)),a.handleGrantTypeResponseDetails=a.handleGrantTypeResponseDetails.bind(Object(j.a)(a)),a.removeGrantTypeDetails=a.removeGrantTypeDetails.bind(Object(j.a)(a)),a}return Object(h.a)(s,[{key:"resetRedirectUri",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),s=this.state,le.set(s,"workflowDetails.authCodeParameters.redirectUri",this.state.originalRedirectUri),this.setState(s);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleGrantTypeResponseDetails",value:function(e,t){var s=this.state.responseDetails||[];t.grantType=e,s.unshift(t);var r={};r.responseDetails=s,this.setState(r)}},{key:"handleNestedElementChange",value:function(e,t){var s=this.state.workflowDetails;le.set(s,e,t),this.setState({workflowDetails:s})}},{key:"removeGrantTypeDetails",value:function(e){var t=this.state.responseDetails,s=t.indexOf(e);t.splice(s,1);var r={};r.responseDetails=t,this.setState(r)}},{key:"render",value:function(){var e=this,t=[{value:this.authCodeGrantType,display:"Authorization Code Grant/Flow"},{value:this.clientCredentialsGrantType,display:"Client Credentials Grant"},{value:this.resourceOwnerGrantType,display:"Resource Owner Password Credentials Grant"}];return Object(V.jsxs)(n.a.Fragment,{children:[Object(V.jsx)("h2",{children:"OpenID Connect Workflow"}),Object(V.jsx)(P.i,{errors:this.state.errors}),Object(V.jsxs)(k.a,{ref:this.formReference,onSubmit:function(e){return e.preventDefault()},children:[Object(V.jsx)(P.n,{name:"authenticationType",label:"AuthenticationType Type",displayType:"vertical",selected:this.state.authenticationType,selections:t,onChange:function(t){return e.setState({authenticationType:t.target.value})},onError:function(){}}),this.state.authenticationType===this.authCodeGrantType&&Object(V.jsx)(ze,{formReference:this.formReference,workflowDetails:this.state.workflowDetails,isLoading:this.state.isLoading,handleChange:this.handleNestedElementChange,resetRedirectUri:this.resetRedirectUri,handleResponse:function(t){return e.handleGrantTypeResponseDetails(e.authCodeGrantType,t)},onError:function(){}}),this.state.authenticationType===this.clientCredentialsGrantType&&Object(V.jsx)(He,{formReference:this.formReference,client:this.props.client,isLoading:this.state.isLoading,handleResponse:function(t){return e.handleGrantTypeResponseDetails(e.clientCredentialsGrantType,t)}}),this.state.authenticationType===this.resourceOwnerGrantType&&Object(V.jsx)(We,{client:this.props.client,workflowDetails:this.state.workflowDetails,isLoading:this.state.isLoading,handleChange:this.handleNestedElementChange,handleResponse:function(t){return e.handleGrantTypeResponseDetails(e.state.authenticationType,t)},onError:function(){}})]}),(this.state.responseDetails||[]).map((function(t){return Object(V.jsx)(Ve,{responseDetails:t,client:e.props.client,removeGrantTypeDetails:e.removeGrantTypeDetails},"response-details-"+t.id)}))]})}}]),s}(n.a.Component);function Ve(e){var t="authorization_code",s="client_credentials",r=e.responseDetails;return t===r.grantType?Object(V.jsx)(n.a.Fragment,{children:Object(V.jsx)(Je,{client:e.client,requestDetails:r,onRemove:function(){return e.removeGrantTypeDetails(r)}})},"authorization_code-"+r.id):s===r.grantType?Object(V.jsx)(n.a.Fragment,{children:Object(V.jsx)(Ae,{header:"Client Credentials Grant",headerClass:"client-credentials-grant",accessTokenDetails:r,onRemove:function(){return e.removeGrantTypeDetails(r)}})},"client_credentials-"+r.id):Object(V.jsx)(n.a.Fragment,{children:Object(V.jsx)(Ae,{header:"Resource Owner Password Credentials Grant",headerClass:"resource-owner-password-credentials-grant",accessTokenDetails:r,onRemove:function(){return e.removeGrantTypeDetails(r)}})},"password-"+r.id)}var ze=function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(e){var r;return Object(d.a)(this,s),(r=t.call(this,e)).state={intervals:[],requestDetails:[]},r.setState=r.setState.bind(Object(j.a)(r)),r.forceUpdate=r.forceUpdate.bind(Object(j.a)(r)),r.loadAuthorizationRequestDetails=r.loadAuthorizationRequestDetails.bind(Object(j.a)(r)),r}return Object(h.a)(s,[{key:"componentWillUnmount",value:function(){this.state.requestDetails.forEach((function(e){void 0!==e.interval&&clearInterval(e.interval)}))}},{key:"loadAuthorizationRequestDetails",value:function(e){e.preventDefault();var t=new D.a(X.b,this.setState),s=t.getResourceFromFormReference(this.props.formReference);s[X.d]=this.props.workflowDetails;var r=this.props.handleResponse;t.createResource(s).then((function(e){e.success&&e.resource.then((function(e){r(e)}))}))}},{key:"render",value:function(){var e=this,t=this.props.workflowDetails.authCodeParameters||{};return Object(V.jsxs)(n.a.Fragment,{children:[Object(V.jsx)(P.l,{name:"authCodeParameters.redirectUri",label:"Redirect URI",placeholder:"The redirect uri that is added to the request parameters",value:t.redirectUri,onChange:function(t){return e.props.handleChange(t.target.name,t.target.value)},onError:function(t){return e.props.onError(t)},children:Object(V.jsxs)("a",{href:"/#",onClick:this.props.resetRedirectUri,className:"action-link",children:[Object(V.jsx)(Re.a,{})," ",Object(V.jsx)("span",{children:"reset redirect uri"})]})}),Object(V.jsx)(P.l,{name:"authCodeParameters.queryParameters",label:"Additional URL Query",value:t.queryParameters,placeholder:"add an optional query string that is appended to the request URL",onChange:function(t){return e.props.handleChange(t.target.name,t.target.value)},onError:function(t){return e.props.onError(t)}}),Object(V.jsx)(k.a.Group,{as:R.a,children:Object(V.jsx)(E.a,{sm:{span:10,offset:2},children:Object(V.jsxs)(I.a,{type:"submit",onClick:this.loadAuthorizationRequestDetails,children:[Object(V.jsx)(P.q,{show:this.props.isLoading})," Get Authorization Code"]})})})]})}}]),s}(n.a.Component),He=function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(e){var r;return Object(d.a)(this,s),(r=t.call(this,e)).state={},r.setState=r.setState.bind(Object(j.a)(r)),r.retrieveAccessTokenDetails=r.retrieveAccessTokenDetails.bind(Object(j.a)(r)),r}return Object(h.a)(s,[{key:"retrieveAccessTokenDetails",value:function(e){var t=this;e.preventDefault(),this.setState({isLoading:!0});var s=new D.a(X.a,this.setState),r={grantType:"client_credentials",openIdClientId:parseInt(this.props.client.id)},n=this.props.handleResponse;s.createResource(r).then((function(e){t.setState({isLoading:!1}),e.success&&e.resource.then((function(e){n(e)}))}))}},{key:"render",value:function(){var e=this.state.errors||{};return Object(V.jsx)(n.a.Fragment,{children:Object(V.jsx)(k.a.Group,{as:R.a,children:Object(V.jsxs)(E.a,{sm:{span:10,offset:2},children:[Object(V.jsxs)(I.a,{id:"upload",type:"submit",onClick:this.retrieveAccessTokenDetails,children:[Object(V.jsx)(P.q,{show:this.state.isLoading})," Get Access Token"]}),Object(V.jsx)(P.a,{variant:"danger",icon:Object(V.jsx)(K.a,{}),messages:e.errorMessages||new T.a(e.detail).map((function(e){return[e]})).orElse([])})]})})})}}]),s}(n.a.Component),We=function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(e){var r;return Object(d.a)(this,s),(r=t.call(this,e)).state={},r.setState=r.setState.bind(Object(j.a)(r)),r.retrieveAccessTokenDetails=r.retrieveAccessTokenDetails.bind(Object(j.a)(r)),r}return Object(h.a)(s,[{key:"retrieveAccessTokenDetails",value:function(e){var t=this;e.preventDefault(),this.setState({isLoading:!0});var s=new D.a(X.a,this.setState),r=this.props.workflowDetails.resourceOwnerPasswordParameters||{},n=r.username||"",a=r.password||"",i={grantType:"password",openIdClientId:parseInt(this.props.client.id),username:n,password:a},c=this.props.handleResponse;s.createResource(i).then((function(e){t.setState({isLoading:!1}),e.success&&e.resource.then((function(e){c(e)}))}))}},{key:"render",value:function(){var e=this,t=this.props.workflowDetails.resourceOwnerPasswordParameters||{},s=t.username||"",r=t.password||"",a=this.state.errors||{};return Object(V.jsxs)(n.a.Fragment,{children:[Object(V.jsx)(P.l,{name:"resourceOwnerPasswordParameters.username",label:"Username",value:s,placeholder:"the username to authenticate",onChange:function(t){return e.props.handleChange(t.target.name,t.target.value)},onError:function(t){return e.props.onError(t)}}),Object(V.jsx)(P.l,{name:"resourceOwnerPasswordParameters.password",label:"Password",placeholder:"the users password",value:r,onChange:function(t){return e.props.handleChange(t.target.name,t.target.value)},onError:function(t){return e.props.onError(t)}}),Object(V.jsx)(k.a.Group,{as:R.a,children:Object(V.jsxs)(E.a,{sm:{span:10,offset:2},children:[Object(V.jsxs)(I.a,{id:"upload",type:"submit",onClick:this.retrieveAccessTokenDetails,children:[Object(V.jsx)(P.q,{show:this.state.isLoading})," Get Access Token"]}),Object(V.jsx)(P.a,{variant:"danger",icon:Object(V.jsx)(K.a,{}),messages:a.errorMessages||new T.a(a.detail).map((function(e){return[e]})).orElse([])})]})})]})}}]),s}(n.a.Component),_e=function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(e){var r;return Object(d.a)(this,s),(r=t.call(this,e)).state={},r.setState=r.setState.bind(Object(j.a)(r)),r}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,s,r=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.match.params.providerId,s=this.props.match.params.clientId,"/scim/v2/OpenIdProvider",new D.a("/scim/v2/OpenIdProvider",this.setState).getResource(t).then((function(e){e.success?e.resource.then((function(e){r.setState({provider:e})})):e.resource.then((function(e){r.setState({errors:{errorMessages:[e.detail]}})}))})),"/scim/v2/OpenIdClient",new D.a("/scim/v2/OpenIdClient",this.setState).getResource(s).then((function(e){e.success?e.resource.then((function(e){r.setState({client:e})})):e.resource.then((function(e){r.setState({errors:{errorMessages:[e.detail]}})}))}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=new T.a(this.state.provider),s=new T.a(this.state.client);return Object(V.jsxs)(n.a.Fragment,{children:[Object(V.jsx)(w.LinkContainer,{exact:!0,to:"/openIdProvider/"+this.props.match.params.providerId+"/openIdClients",children:Object(V.jsx)("a",{href:"/#",children:Object(V.jsxs)("h5",{style:{height:"35px",padding:"0",paddingLeft:"10px"},children:[Object(V.jsx)(ge.a,{style:{color:"bisque"},height:"35px",size:"25px"}),Object(V.jsxs)("span",{style:{marginLeft:"15px"},children:["Back to",Object(V.jsxs)("span",{style:{color:"lightgray"},children:[' "',t.map((function(e){return e.name})).orElse(""),'" ']}),"Overview"]})]})})}),Object(V.jsxs)("h5",{children:["Client: ",Object(V.jsx)("span",{style:{color:"lightgray"},children:s.map((function(e){return e.clientId})).orElse("")})]}),Object(V.jsxs)(g.a,{defaultActiveKey:"workflow",id:"uncontrolled-tab-example",children:[Object(V.jsx)(C.a,{eventKey:"workflow",title:"OpenID Workflow",children:new T.a(this.state.client).isPresent()&&Object(V.jsx)(Qe.Consumer,{children:function(t){return Object(V.jsx)(qe,{client:e.state.client,originalRedirectUri:t.authCodeRedirectUri})}})}),Object(V.jsx)(C.a,{eventKey:"clients",title:"HTTP Settings",children:new T.a(this.state.client).isPresent()&&Object(V.jsx)(ke,{client:this.state.client})})]})]})}}]),s}(n.a.Component),Qe=n.a.createContext(null),Xe=n.a.createContext(null),Ye=function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(e){var r;return Object(d.a)(this,s),(r=t.call(this,e)).state={serviceProviderConfig:{bulk:{maxOperations:5,maxPayloadSize:2097152},filter:{maxResults:5}}},r.setState=r.setState.bind(Object(j.a)(r)),r}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=new D.a("/scim/v2/ServiceProviderConfig",this.setState)).listResources().then((function(e){e.success&&e.resource.then((function(e){s.setState({serviceProviderConfig:e})}))})),t.getResource(null,"/scim/v2/AppInfo").then((function(e){e.success&&e.resource.then((function(e){s.setState({appInfo:e})}))}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(V.jsx)(n.a.Fragment,{children:Object(V.jsxs)(x.BrowserRouter,{children:[Object(V.jsx)(m.a,{collapseOnSelect:!0,expand:"lg",bg:"navigation",children:Object(V.jsxs)(O.a,{children:[Object(V.jsx)(m.a.Brand,{href:"#home",children:"Captain Goldfish's Rest Client"}),Object(V.jsx)(m.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(V.jsxs)(m.a.Collapse,{id:"responsive-navbar-nav",children:[Object(V.jsx)(v.a,{className:"me-auto"}),Object(V.jsx)(v.a,{children:Object(V.jsx)(v.a.Link,{href:"#",children:Object(V.jsx)("img",{src:f,className:"react-logo",alt:"logo"})})})]})]})}),Object(V.jsx)(m.a,{bg:"navigation-left",className:"navbar-left",expand:"md",variant:"dark",children:Object(V.jsx)(m.a.Collapse,{children:Object(V.jsxs)(v.a,{className:"flex-column",children:[Object(V.jsx)(w.LinkContainer,{exact:!0,to:"/openIdProvider",children:Object(V.jsx)(v.a.Link,{children:"OpenID"})}),Object(V.jsx)(w.LinkContainer,{exact:!0,to:"/jwts",children:Object(V.jsx)(v.a.Link,{children:"JWTs"})}),Object(V.jsx)(w.LinkContainer,{exact:!0,to:"/system",children:Object(V.jsx)(v.a.Link,{children:"System"})})]})})}),Object(V.jsxs)("div",{className:"main",children:[Object(V.jsx)(P.a,{variant:"danger",icon:Object(V.jsx)(K.a,{}),messages:(this.state.errors||{}).errorMessages}),Object(V.jsx)(Qe.Provider,{value:this.state.appInfo,children:Object(V.jsx)(Xe.Provider,{value:this.state.serviceProviderConfig,children:Object(V.jsxs)(y.g,{children:[Object(V.jsx)(y.d,{path:"/system",children:Object(V.jsx)(je,{})}),Object(V.jsx)(y.d,{path:"/openIdProvider/:providerId/client/:clientId",component:_e}),Object(V.jsx)(y.d,{path:"/openIdProvider/:id/openIdClients",render:function(t){return Object(V.jsx)(Ce,{match:t.match,serviceProviderConfig:e.state.serviceProviderConfig})}}),Object(V.jsx)(y.d,{path:"/openIdProvider",children:Object(V.jsx)(fe,{serviceProviderConfig:this.state.serviceProviderConfig})}),Object(V.jsx)(y.d,{path:"/jwts",children:Object(V.jsx)(we,{})}),Object(V.jsx)(y.d,{path:"/",children:Object(V.jsx)(y.c,{to:"/jwts"})})]})})})]})]})})}}]),s}(n.a.Component);i.a.render(Object(V.jsx)(Ye,{}),document.getElementById("root")),c()},18:function(e,t,s){"use strict";s.d(t,"a",(function(){return d}));var r=s(106),n=s(10),a=s.n(n),i=s(17),c=s(13),o=s(14),l=s(4),u=s(21),d=function(){function e(t,s){Object(c.a)(this,e),this.resourcePath=t,this.setState=s,this.resetErrors=this.resetErrors.bind(this),this.handleError=this.handleError.bind(this),this.createResource=this.createResource.bind(this),this.getErrors=this.getErrors.bind(this),this.isLoading=this.isLoading.bind(this)}return Object(o.a)(e,[{key:"isLoading",value:function(e){this.setState({isLoading:e})}},{key:"resetErrors",value:function(){this.setState({errors:{}})}},{key:"handleError",value:function(e){var t=this;e.then((function(e){var s={};void 0===e.errors?(s.errorMessages=new l.a(s.errorMessages).orElse([]),void 0===e.detail?s.errorMessages.push(JSON.stringify(e)):s.errorMessages.push(e.detail)):s=e.errors,new l.a(t.setState).ifPresent((function(e){return e({errors:s})}))}))}},{key:"createResource",value:function(){var e=Object(i.a)(a.a.mark((function e(t){var s=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading(!0),this.resetErrors(),e.next=4,fetch(this.resourcePath,{method:"POST",headers:{"Content-Type":"application/scim+json"},body:JSON.stringify(t)}).then((function(e){if(s.isLoading(!1),201===e.status)return{success:!0,status:e.status,resource:e.json()};var t={success:!1,status:e.status,resource:e.json()};return s.handleError(t.resource),t}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getResource",value:function(){var e=Object(i.a)(a.a.mark((function e(t,s,r){var n,i,c,o=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading(!0),this.resetErrors(),n=new l.a(s).orElse(this.resourcePath),i=new l.a(r).map((function(e){return"?"+new URLSearchParams(e).toString()})).orElse(""),c=n+new l.a(t).map((function(e){return"/"+encodeURIComponent(e)})).orElse("")+i,e.next=7,fetch(c,{method:"GET"}).then((function(e){if(o.isLoading(!1),200===e.status)return{success:!0,status:e.status,resource:e.json()};var t={success:!1,status:e.status,resource:e.json()};return o.handleError(t.resource),t}));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t,s,r){return e.apply(this,arguments)}}()},{key:"listResources",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=t.startIndex,r=t.count,n=t.filter,a=t.sortBy,i=t.sortOrder,c=t.attributes,o=t.excludedAttributes;this.isLoading(!0),this.resetErrors();var u=new l.a(s).map((function(e){return"startIndex="+e})).orElse(null),d=new l.a(r).map((function(e){return"count="+e})).orElse(null),h=new l.a(n).map((function(e){return"filter="+encodeURI(e)})).orElse(null),j=new l.a(a).map((function(e){return"sortBy="+encodeURI(e)})).orElse(null),p=new l.a(i).map((function(e){return"sortOrder="+e})).orElse(null),b=new l.a(c).map((function(e){return"attributes="+encodeURI(e)})).orElse(null),f=new l.a(o).map((function(e){return"excludedAttributes="+encodeURI(e)})).orElse(null),m=Array.of(u,d,h,j,p,b,f).filter((function(e){return null!=e})).join("&");m=new l.a(m).filter((function(e){return e.length>0})).map((function(e){return"?"+e})).orElse("");var O=this.resourcePath+m;return fetch(O,{method:"GET"}).then((function(t){if(e.isLoading(!1),200===t.status)return{success:!0,status:t.status,resource:t.json()};var s={success:!1,status:t.status,resource:t.json()};return e.handleError(s.resource),s}))}},{key:"updateResource",value:function(){var e=Object(i.a)(a.a.mark((function e(t,s){var r=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading(!0),this.resetErrors(),e.next=4,fetch(this.resourcePath+"/"+encodeURIComponent(s),{method:"PUT",headers:{"Content-Type":"application/scim+json"},body:JSON.stringify(t)}).then((function(e){if(r.isLoading(!1),200===e.status)return{success:!0,status:e.status,resource:e.json()};var t={success:!1,status:e.status,resource:e.json()};return r.handleError(t.resource),t}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t,s){return e.apply(this,arguments)}}()},{key:"patchResource",value:function(){var e=Object(i.a)(a.a.mark((function e(t,s){var r=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading(!0),this.resetErrors(),e.next=4,fetch(this.resourcePath+"/"+encodeURIComponent(s),{method:"PATCH",body:JSON.stringify(t)}).then((function(e){if(r.isLoading(!1),200===e.status)return{success:!0,status:e.status,resource:e.json()};var t={success:!1,status:e.status,resource:e.json()};return r.handleError(t.resource),t}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t,s){return e.apply(this,arguments)}}()},{key:"deleteResource",value:function(e){var t=this;return this.isLoading(!0),this.resetErrors(),fetch(this.resourcePath+"/"+encodeURIComponent(e),{method:"DELETE"}).then((function(e){return t.isLoading(!1),204===e.status?{success:!0,status:e.status}:(t.handleError(e.json()),{success:!1,status:e.status})}))}},{key:"getResourceFromFormReference",value:function(){var e=Object(i.a)(a.a.mark((function e(t){var s,n,c,o,d,h,j,p,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s={},n=function(){var e=Object(i.a)(a.a.mark((function e(t){var r,n,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.name,"file"!==t.type){e.next=11;break}if(void 0===t.files||1!==t.files.length){e.next=8;break}return e.next=5,Object(l.c)(t.files[0]);case 5:n=e.sent,e.next=9;break;case 8:n=void 0;case 9:e.next=12;break;case 11:"number"===t.type?n=t.valueAsNumber:"checkbox"===t.type?n=t.checked:"radio"===t.type?n=t.checked?t.value:s[r]:(i=u.trim(t.value),u.isEmpty(i)&&(i=void 0),n=i);case 12:u.set(s,r,n);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=Array.from(t.current.getElementsByTagName("input")),o=Array.from(t.current.getElementsByTagName("textarea")),d=Array.from(t.current.getElementsByTagName("select")),h=c.concat(d).concat(o),j=Object(r.a)(h),e.prev=7,j.s();case 9:if((p=j.n()).done){e.next=15;break}return b=p.value,e.next=13,n(b);case 13:e.next=9;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(7),j.e(e.t0);case 20:return e.prev=20,j.f(),e.finish(20);case 23:return e.abrupt("return",s);case 24:case"end":return e.stop()}}),e,null,[[7,17,20,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getErrors",value:function(e,t){return new l.a(e).map((function(e){return e.errors})).map((function(e){return e.fieldErrors})).map((function(e){return e[t]})).orElse([])}}]),e}()},30:function(e,t,s){"use strict";s.d(t,"c",(function(){return r})),s.d(t,"d",(function(){return n})),s.d(t,"a",(function(){return a})),s.d(t,"b",(function(){return i})),s.d(t,"e",(function(){return c})),s.d(t,"f",(function(){return o})),s.d(t,"g",(function(){return l}));var r="urn:ietf:params:scim:schemas:captaingoldfish:2.0:CertificateInfo",n="urn:ietf:params:scim:schemas:captaingoldfish:2.0:CurrentWorkflowSettings",a="/scim/v2/AccessTokenRequest",i="/scim/v2/AuthCodeGrantRequest",c="/scim/v2/JwtBuilder",o="/scim/v2/Keystore",l="/scim/v2/Truststore"},34:function(e,t,s){"use strict";s.d(t,"a",(function(){return d}));var r=s(59),n=s(10),a=s.n(n),i=s(17),c=s(13),o=s(14),l=s(4),u=s(21),d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=t.scimClient,r=t.formReference,n=t.getOriginalResource,a=t.getCurrentResource,i=t.setCurrentResource,o=t.setState,l=t.onCreateSuccess,u=t.onUpdateSuccess,d=t.onDeleteSuccess;Object(c.a)(this,e),this.scimClient=s,this.formReference=r,this.getOriginalResource=n,this.getCurrentResource=a,this.setCurrentResource=i,this.setState=o,this.onCreateSuccess=l,this.onUpdateSuccess=u,this.onDeleteSuccess=d,this.onSubmit=this.onSubmit.bind(this),this.createResource=this.createResource.bind(this),this.updateResource=this.updateResource.bind(this),this.deleteResource=this.deleteResource.bind(this),this.setStateValue=this.setStateValue.bind(this),this.resetEditMode=this.resetEditMode.bind(this),this.updateInput=this.updateInput.bind(this)}return Object(o.a)(e,[{key:"onSubmit",value:function(e){e.preventDefault(),new l.a(this.getCurrentResource().id).isPresent()?this.updateResource():this.createResource()}},{key:"createResource",value:function(){var e=Object(i.a)(a.a.mark((function e(){var t,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.scimClient.getResourceFromFormReference(this.formReference);case 2:return t=e.sent,e.next=5,this.scimClient.createResource(t);case 5:s=e.sent,this.handleCreateOrUpdateResponse(s,this.onCreateSuccess);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateResource",value:function(){var e=Object(i.a)(a.a.mark((function e(){var t,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.scimClient.getResourceFromFormReference(this.formReference);case 2:return t=e.sent,e.next=5,this.scimClient.updateResource(t,this.getOriginalResource().id);case 5:s=e.sent,this.handleCreateOrUpdateResponse(s,this.onUpdateSuccess);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleCreateOrUpdateResponse",value:function(e,t){var s=this;e.success?e.resource.then((function(e){s.setCurrentResource(e),s.setState({editMode:!1,success:!0}),t(e)})):e.resource.then((function(e){s.setState({errors:{errorMessages:[e.detail]}})}))}},{key:"deleteResource",value:function(){var e=this;new l.a(this.getCurrentResource().id).ifNotPresent((function(t){e.onDeleteSuccess(void 0)})).ifPresent(function(){var t=Object(i.a)(a.a.mark((function t(s){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.scimClient.deleteResource(s);case 2:e.onDeleteSuccess(s);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setStateValue",value:function(e,t){var s;this.setState((s={},Object(r.a)(s,e,t),Object(r.a)(s,"success",!1),s))}},{key:"resetEditMode",value:function(){var e=JSON.parse(JSON.stringify(this.getOriginalResource()));this.setCurrentResource(e),this.setState({editMode:!1,success:!1})}},{key:"updateInput",value:function(e,t){var s=this.getCurrentResource();s=u.set(s,e,t),this.setCurrentResource(s),this.setState({success:!1})}}]),e}()},4:function(e,t,s){"use strict";(function(e){s.d(t,"c",(function(){return a})),s.d(t,"b",(function(){return i})),s.d(t,"a",(function(){return c}));var r=s(13),n=s(14);function a(e){return new Promise((function(t,s){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){var e=r.result.toString().replace(/^data:(.*,)?/,"");e.length%4>0&&(e+="=".repeat(4-e.length%4)),t(e)},r.onerror=function(e){return s(e)}}))}function i(e,t,s){for(var r=window.atob(e),n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);var c=new Blob([a.buffer],{type:s}),o=document.createElement("a"),l=URL.createObjectURL(c);o.href=l,o.download=t,o.click(),setTimeout((function(){window.URL.revokeObjectURL(l)}),0)}var c=function(){function e(t){Object(r.a)(this,e),this.value=t}return Object(n.a)(e,[{key:"get",value:function(){return this.value}},{key:"isPresent",value:function(){return void 0!==this.value&&null!==this.value}},{key:"ifPresent",value:function(e){return this.isPresent()&&e(this.value),this}},{key:"ifNotPresent",value:function(e){return this.isPresent()||e(),this}},{key:"isEmpty",value:function(){return void 0===this.value||null===this.value}},{key:"filter",value:function(e){return this.isPresent()&&!e(this.value)&&(this.value=null),this}},{key:"map",value:function(e){return this.isPresent()&&(this.value=e(this.value)),this}},{key:"do",value:function(e){return this.isPresent()&&e(this.value),this}},{key:"orElse",value:function(e){return this.isPresent()?this.value:e}}]),e}()}).call(this,s(103).Buffer)},50:function(e,t,s){"use strict";s.d(t,"a",(function(){return p}));var r=s(13),n=s(14),a=s(7),i=s(16),c=s(15),o=s(1),l=s.n(o),u=s(12),d=s(4),h=s(6),j=s(0),p=function(e){Object(i.a)(s,e);var t=Object(c.a)(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).bubbleEvent=n.bubbleEvent.bind(Object(a.a)(n)),n}return Object(n.a)(s,[{key:"bubbleEvent",value:function(e){this.props.onChange(e.target.name,e.target.value)}},{key:"componentDidUpdate",value:function(e,t,s){e.value!==this.props.value&&this.props.onChange(this.props.name,this.props.value)}},{key:"render",value:function(){var e=this,t=new d.a(this.props.id).orElse(this.props.name),s=void 0===this.props.type?"text":this.props.type,r=this.props.name,n=void 0===this.props.placeholder?this.props.name:this.props.placeholder,a=new d.a(this.props.onError).map((function(t){return t(e.props.name)})).orElse([]),i=!0===this.props.disabled,c=!0===this.props.readOnly;return Object(j.jsxs)(l.a.Fragment,{children:[Object(j.jsx)(u.a.Control,{id:t,className:"card-input-field "+new d.a(this.props.className).orElse(""),type:s,name:r,disabled:i,readOnly:c,placeholder:n,onChange:this.bubbleEvent,value:this.props.value}),Object(j.jsx)(h.h,{controlId:this.props.name+"-error-list",fieldErrors:a})]})}}]),s}(l.a.Component)},6:function(e,t,s){"use strict";s.d(t,"l",(function(){return M})),s.d(t,"j",(function(){return A})),s.d(t,"o",(function(){return N})),s.d(t,"k",(function(){return L})),s.d(t,"m",(function(){return U})),s.d(t,"n",(function(){return B})),s.d(t,"h",(function(){return K})),s.d(t,"g",(function(){return F})),s.d(t,"a",(function(){return J})),s.d(t,"q",(function(){return G})),s.d(t,"i",(function(){return q})),s.d(t,"b",(function(){return V})),s.d(t,"c",(function(){return z})),s.d(t,"r",(function(){return H})),s.d(t,"p",(function(){return W})),s.d(t,"s",(function(){return _})),s.d(t,"e",(function(){return Q})),s.d(t,"d",(function(){return X})),s.d(t,"t",(function(){return Y})),s.d(t,"f",(function(){return Z}));var r=s(55),n=s(13),a=s(14),i=s(16),c=s(15),o=s(1),l=s.n(o),u=s(97),d=s.n(u),h=s(12),j=s(23),p=s(19),b=s(4),f=s(20),m=s(99),O=s(157),v=s(22),x=s(98),y=s(111),w=s(156),g=s(158),C=s(109),S=s(159),k=s(160),R=s(110),E=s(161),I=s(162),P=s(163),T=s(50),D=s(0);function M(e){var t=e.id||e.name,s=new b.a(e.label).map((function(e){return Object(D.jsx)(h.a.Label,{column:!0,sm:2,children:e})})),r=void 0===e.type?"text":e.type,n=e.name,a=void 0===e.placeholder?e.name:e.placeholder,i=e.onError(e.name),c=!0===e.disabled,o=!0===e.readOnly,l="hidden"===e.type||e.isHidden,u=new b.a(e.as).orElse("input"),d=new b.a(e.sm).orElse(s.isPresent()?10:12);return Object(D.jsxs)(h.a.Group,{as:j.a,controlId:t,style:{display:l?"none":""},children:[s.get(),Object(D.jsxs)(p.a,{sm:d,children:[Object(D.jsx)(h.a.Control,{type:r,as:u,name:n,className:e.className,disabled:c,readOnly:o,placeholder:a,onChange:e.onChange,value:e.value}),e.children,Object(D.jsx)(K,{controlId:e.name+"-error-list",fieldErrors:i})]})]})}var A=function(e){Object(i.a)(s,e);var t=Object(c.a)(s);function s(){return Object(n.a)(this,s),t.apply(this,arguments)}return Object(a.a)(s,[{key:"render",value:function(){var e=new b.a(this.props.id).orElse(this.props.name),t=new b.a(this.props.label).map((function(e){return Object(D.jsx)(h.a.Label,{column:!0,sm:2,children:e})})),s=this.props.name,r=this.props.onError(this.props.name),n="hidden"===this.props.type,a=!0===this.props.readOnly,i=new b.a(this.props.checked).orElse(!1),c=new b.a(this.props.sm).orElse(t.isPresent()?10:12);return Object(D.jsxs)(h.a.Group,{as:j.a,style:{display:n?"none":""},children:[t.get(),Object(D.jsxs)(p.a,{sm:c,style:{alignSelf:"center"},children:[Object(D.jsx)(h.a.Check,{id:e,name:s,readOnly:a,type:"switch",onChange:this.props.onChange,checked:i}),Object(D.jsx)(K,{controlId:this.props.name+"-error-list",fieldErrors:r})]})]})}}]),s}(l.a.Component),N=function(e){Object(i.a)(s,e);var t=Object(c.a)(s);function s(){return Object(n.a)(this,s),t.apply(this,arguments)}return Object(a.a)(s,[{key:"render",value:function(){var e=void 0===this.props.label?this.props.name:this.props.label,t=this.props.onError(this.props.name),s=new b.a(this.props.options).map((function(e){return e.map((function(e){return Object(D.jsx)("option",{children:e},e)}))})).orElse([]);return Object(D.jsxs)(h.a.Group,{as:j.a,controlId:this.props.name,children:[Object(D.jsx)(h.a.Label,{column:!0,sm:2,children:e}),Object(D.jsxs)(p.a,{sm:10,children:[Object(D.jsx)(h.a.Control,{as:"select",name:this.props.name,children:s}),Object(D.jsx)(K,{controlId:this.props.name+"-error-list",fieldErrors:t})]})]})}}]),s}(l.a.Component);function L(e){Object(o.useEffect)((function(){return d.a.init(),function(){d.a.destroy()}}),[]);var t=void 0===e.label?e.name:e.label,s=(void 0===e.placeholder||e.placeholder,void 0===e.button||e.button,e.onError(e.name));return Object(D.jsxs)(h.a.Group,{as:j.a,controlId:e.name,children:[Object(D.jsx)(h.a.Label,{column:!0,sm:2,children:t}),Object(D.jsxs)(p.a,{sm:10,children:[Object(D.jsx)(h.a.Control,{type:"file",name:e.name}),Object(D.jsx)(K,{controlId:e.name+"-error-list",fieldErrors:s})]})]})}function U(e){var t=void 0===e.label?e.name:e.label,s=e.onError(e.name);return Object(D.jsxs)(h.a.Group,{as:j.a,controlId:e.name,children:[Object(D.jsx)(h.a.Label,{column:!0,sm:2,children:t}),Object(D.jsxs)(p.a,{sm:10,children:[Object(D.jsx)(h.a.Control,{as:"select",size:"sm",type:"number",custom:!0,name:e.name,onChange:e.onChange,value:e.selected,children:e.selections.map((function(t,s){return Object(D.jsx)("option",{value:t.id,defaultValue:e.selected===t,children:t.value},s)}))}),Object(D.jsx)(K,{controlId:e.name+"-error-list",fieldErrors:s})]})]})}function B(e){var t=void 0===e.label?e.name:e.label,s="vertical"===new b.a(e.displayType).orElse("vertical")?"block":"inline",r=e.onError(e.name);return Object(D.jsxs)(h.a.Group,{as:j.a,controlId:e.name,children:[Object(D.jsx)(h.a.Label,{column:!0,sm:2,children:t}),Object(D.jsxs)(p.a,{sm:10,style:{alignSelf:"center"},children:[e.selections.map((function(t,r){return Object(D.jsx)(h.a.Check,{style:{display:s,marginRight:"45px"},type:"radio",label:t.display,value:t.value,name:e.name,checked:e.selected===t.value,onChange:e.onChange,id:e.name+"-"+t.value},r)})),Object(D.jsx)(K,{controlId:e.name+"-error-list",fieldErrors:r})]})]})}function K(e){if(new b.a(e.fieldErrors).map((function(e){return!1})).orElse(!0))return null;var t=void 0===e.backgroundClass?"bg-danger":e.backgroundClass;return Object(D.jsx)("ul",{id:e.controlId,className:"error-list",children:e.fieldErrors.map((function(e,s){return Object(D.jsx)(F,{backgroundClass:t,message:e},"error-message-"+s)}))})}function F(e){return Object(D.jsx)("li",{className:"error-list-item",children:Object(D.jsxs)("small",{className:e.backgroundClass+" error",children:[Object(D.jsx)(f.a,{})," ",e.message]})})}function J(e){var t=e.variant||"info",s=e.icon||Object(D.jsx)(w.a,{});return Object(D.jsx)(l.a.Fragment,{children:(e.messages||[]).length>0&&Object(D.jsx)(m.a,{variant:t,children:Object(D.jsx)("ul",{className:"error-list",children:e.messages.map((function(e,r){return Object(D.jsx)("li",{className:"error-list-item",children:Object(D.jsxs)("small",{className:"error",children:[s," ",e]})},"alert-"+t+"-message-"+r)}))})})})}function G(e){return e.show?Object(D.jsx)("span",{style:{marginRight:"5px"},children:Object(D.jsx)(O.a,{animation:"border",variant:"warning",size:"sm",role:"status"})}):null}function q(e){return new b.a(e.errors).map((function(e){return e.errorMessages})).filter((function(e){return e.length>0})).isPresent()&&Object(D.jsx)(m.a,{id:"error-messages-alert",variant:"danger",show:void 0!==e.errors.errorMessages,children:Object(D.jsx)(K,{fieldErrors:e.errors.errorMessages,backgroundClass:""})})}function V(e){return Object(D.jsxs)("div",{className:"card-control-icons",children:[e.spinner,e.editMode&&Object(D.jsxs)(l.a.Fragment,{children:[Object(D.jsx)(g.a,{title:"save",id:"save-icon-"+e.resource.id,onClick:function(){void 0===e.resource.id?e.createResource():e.updateResource(e.resource.id)},style:{marginRight:"5px"}}),void 0!==e.resource.id&&Object(D.jsx)(C.a,{title:"reset-edit",id:"reset-update-icon-"+e.resource.id,onClick:e.resetEditMode,style:{marginRight:"5px"}})]}),!e.editMode&&Object(D.jsx)(S.a,{title:"edit",id:"update-icon-"+e.resource.id,onClick:e.edit,style:{marginRight:"5px"}}),Object(D.jsx)(k.a,{title:"delete",id:"delete-icon-"+e.resource.id,onClick:e.showModal})]})}function z(e){return Object(D.jsxs)(l.a.Fragment,{children:[Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{children:"Created"}),Object(D.jsx)("td",{className:"card-value-cell",children:new b.a(e.resource).map((function(e){return e.meta})).map((function(e){return e.created})).map((function(e){return new Date(e).toUTCString()})).orElse(null)})]}),Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{children:"LastModified"}),Object(D.jsx)("td",{className:"card-value-cell",children:new b.a(e.resource).map((function(e){return e.meta})).map((function(e){return e.lastModified})).map((function(e){return new Date(e).toUTCString()})).orElse(null)})]})]})}function H(e){return Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{children:e.header}),Object(D.jsxs)("td",{id:"card-cell-"+e.resourceId+"-"+e.name,className:"card-value-cell",children:[e.editMode&&Object(D.jsx)(T.a,{value:new b.a(e.resourceValue).orElse(""),id:e.name+"-"+e.resourceId,type:e.type,name:e.name,placeholder:e.placeholder,onChange:e.onChange,onError:e.onError}),!e.editMode&&e.resourceValue]})]})}function W(e){return Object(D.jsx)("tr",{style:{display:"none"},children:Object(D.jsx)("td",{children:Object(D.jsx)(T.a,{value:new b.a(e.value).orElse(""),id:e.name+"-"+e.resourceId,type:e.type,name:e.name,placeholder:e.placeholder,onChange:e.onChange,onError:e.onError})})})}function _(e){return Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{children:e.header}),Object(D.jsxs)("td",{id:"card-cell-"+e.resourceId+"-"+e.name,className:"card-value-cell",children:[e.editMode&&Object(D.jsx)(R.a,{type:"button",className:"remove-index",onClick:function(t){return e.onRemove(e.name,void 0)}},"remove-key"),Object(D.jsx)("div",{className:new b.a(e.resourceValue).map((function(e){return"light-border"})).orElse(""),children:e.resourceValue}),e.editMode&&Object(D.jsx)(T.a,{type:"file",id:e.name+"-"+e.resourceId,name:e.name,placeholder:e.placeholder,onChange:e.onChange,onError:e.onError})]})]})}function Q(e){var t=new b.a(e.onError).map((function(t){return t(e.name)})).orElse([]);return Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{children:e.header}),Object(D.jsxs)("td",{id:"card-cell-"+e.resourceId+"-"+e.name,className:"card-value-cell",children:[Object(D.jsxs)("fieldset",{children:[!e.editMode&&e.selected,e.editMode&&e.selections.map((function(t,s){return Object(D.jsx)(h.a.Check,{type:"radio",label:t,value:t,checked:e.selected===t,onChange:e.onChange,name:e.name,id:e.name+"-"+t},s)}))]}),Object(D.jsx)(K,{controlId:e.name+"-error-list",fieldErrors:t})]})]})}function X(e){var t=new b.a(e.onError).map((function(t){return t(e.name)})).orElse([]);return Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{children:e.header}),Object(D.jsxs)("td",{id:"card-cell-"+e.resourceId+"-"+e.name,className:"card-value-cell",children:[Object(D.jsxs)("fieldset",{children:[!e.editMode&&e.selected,e.editMode&&Object(D.jsx)(h.a.Control,{as:"select",size:"sm",custom:!0,name:e.name,id:e.name,onChange:e.onChange,value:e.selected,children:e.selections.map((function(t,s){return Object(D.jsx)("option",{defaultValue:e.selected===t,children:t},s)}))})]}),Object(D.jsx)(K,{controlId:e.name+"-error-list",fieldErrors:t})]})]})}function Y(e){var t=new b.a(e.onError).map((function(t){return t(e.name)})).orElse([]);return Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{children:e.header}),Object(D.jsxs)("td",{id:"card-cell-"+e.resourceId+"-"+e.name,className:"card-value-cell",children:[e.editMode&&Object(D.jsxs)(l.a.Fragment,{children:[new b.a(e.resourceValue).map((function(t){return t.map((function(t,s){return Object(D.jsxs)("div",{children:[Object(D.jsx)(R.a,{type:"button",className:"remove-index",onClick:function(t){return e.onRemove(s)}},"remove-"+e.resourceId+"-"+s),Object(D.jsx)(T.a,{className:"list-item",value:new b.a(t).orElse(""),id:e.name+"-"+e.resourceId+"-"+s,name:e.name+"["+s+"]",placeholder:e.placeholder,onChange:e.onChange,onError:e.onError},e.name+"-"+e.resourceId+"-"+s)]},e.name+"-container-"+e.resourceId+"-"+s)}))})).orElse([]),Object(D.jsx)(K,{controlId:e.name+"-error-list",fieldErrors:t}),Object(D.jsxs)(v.a,{type:"button",className:"add-item",onClick:e.onAdd,children:[Object(D.jsx)(E.a,{})," Add new"]},"add")]}),!e.editMode&&new b.a(e.resourceValue).map((function(e){return Object(D.jsx)("ul",{children:e.map((function(e){return Object(D.jsx)("li",{children:e},e)}))})})).orElse([])]})]})}function Z(e){var t=Object(o.useState)(e.open||!1),s=Object(r.a)(t,2),n=s[0],a=s[1],i=e.variant||"primary",c=new b.a(e.headerClass).map((function(e){return" "+e})).orElse(""),u=new b.a(e.bodyClass).map((function(e){return" "+e})).orElse("");return Object(D.jsxs)(l.a.Fragment,{children:[Object(D.jsxs)(m.a,{className:"collapse-header"+c,variant:i,onClick:function(){return a(!n)},children:[!0===n&&Object(D.jsx)(I.a,{}),!1===n&&Object(D.jsx)(P.a,{}),e.header,void 0!==e.remove&&Object(D.jsx)(C.a,{onClick:e.remove,className:"remove-collapse"})]}),Object(D.jsx)(x.a,{in:n,children:Object(D.jsx)(y.a,{className:u,children:Object(D.jsx)(y.a.Body,{children:e.content()})})})]})}},93:function(e,t,s){}},[[155,1,2]]]);
//# sourceMappingURL=main.fbed7590.chunk.js.map